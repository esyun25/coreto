<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CORETO â€” æ¥­å‹™å§”è¨—å¥‘ç´„</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=DM+Mono:wght@400;500&family=Syne:wght@700;800&display=swap');
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#07090f;--card:#0f1119;--card2:#141720;--border:#1e2235;--border2:#252a3d;
  --gold:#c9a84c;--gold-dim:#7a5f22;--gold-bg:rgba(201,168,76,.07);
  --blue:#4f9cf9;--green:#34d399;--red:#f87171;--orange:#fb923c;--purple:#a78bfa;
  --muted:#4a5270;--sub:#7a849e;--text:#e2e6f3;
}
html,body{height:100%;font-family:'Noto Sans JP',sans-serif;background:var(--bg);color:var(--text)}
.hdr{height:54px;display:flex;align-items:center;justify-content:space-between;
  padding:0 26px;border-bottom:1px solid var(--border);background:rgba(7,9,15,.95);position:sticky;top:0;z-index:100}
.logo{font-family:'Syne',sans-serif;font-size:17px;font-weight:800;color:var(--gold);letter-spacing:3px}
.layout{display:flex;height:calc(100vh - 54px)}
.sidebar{width:220px;flex-shrink:0;border-right:1px solid var(--border);background:var(--card);overflow-y:auto;padding:12px 0}
.sb-sec{font-size:8px;color:var(--muted);letter-spacing:2px;text-transform:uppercase;padding:12px 16px 5px}
.sb-item{display:flex;align-items:center;gap:9px;padding:9px 16px;font-size:12px;cursor:pointer;
  color:var(--sub);transition:.15s;border-left:2px solid transparent}
.sb-item:hover{color:var(--text);background:rgba(255,255,255,.025)}
.sb-item.on{color:var(--blue);background:rgba(79,156,249,.07);border-left-color:var(--blue)}
.main{flex:1;overflow-y:auto;padding:26px 30px 80px}
.ptitle{font-family:'Syne',sans-serif;font-size:17px;font-weight:800;margin-bottom:4px}
.psub{font-size:11px;color:var(--sub);margin-bottom:22px}
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;margin-bottom:14px}
.ch{padding:12px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.ch-t{font-size:9px;color:var(--muted);letter-spacing:2px;text-transform:uppercase;display:flex;align-items:center;gap:8px}
.ch-t::before{content:'';width:3px;height:11px;border-radius:2px;background:var(--gold)}
.cb{padding:18px 20px}
.pill{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-size:9px;font-weight:700}
.pg{background:rgba(52,211,153,.13);color:var(--green);border:1px solid rgba(52,211,153,.3)}
.pb{background:rgba(79,156,249,.12);color:var(--blue);border:1px solid rgba(79,156,249,.25)}
.po{background:rgba(251,146,60,.12);color:var(--orange);border:1px solid rgba(251,146,60,.3)}
.pr{background:rgba(248,113,113,.12);color:var(--red);border:1px solid rgba(248,113,113,.3)}
.pm{background:rgba(74,82,112,.15);color:var(--sub);border:1px solid var(--border2)}
.pgd{background:rgba(201,168,76,.13);color:var(--gold);border:1px solid var(--gold-dim)}
.btn{padding:9px 18px;border-radius:9px;font-size:11px;font-weight:700;cursor:pointer;
  font-family:'Noto Sans JP',sans-serif;transition:.15s;border:none;display:inline-flex;align-items:center;gap:6px}
.btn-blue{background:linear-gradient(135deg,var(--blue),#3070c0);color:#fff}
.btn-blue:hover{filter:brightness(1.1)}
.btn-gold{background:linear-gradient(135deg,var(--gold),#a8742a);color:#0a0c10}
.btn-ghost{background:transparent;border:1px solid var(--border2);color:var(--sub)}
.btn-ghost:hover{color:var(--text);border-color:var(--sub)}
.btn-sm{padding:5px 12px;font-size:10px;border-radius:7px}
.btn:disabled{opacity:.4;cursor:not-allowed}
.al{display:flex;align-items:flex-start;gap:10px;padding:12px 16px;border-radius:10px;margin-bottom:12px;font-size:12px;line-height:1.7}
.al-info{background:rgba(79,156,249,.07);border:1px solid rgba(79,156,249,.2)}
.al-ok{background:rgba(52,211,153,.07);border:1px solid rgba(52,211,153,.2)}
.al-warn{background:rgba(251,146,60,.07);border:1px solid rgba(251,146,60,.22)}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.field{margin-bottom:12px}
.field label{display:block;font-size:10px;color:var(--sub);margin-bottom:5px;font-weight:600}
.field input,.field select{width:100%;background:#090b13;border:1px solid var(--border2);border-radius:9px;
  padding:10px 14px;color:var(--text);font-size:12px;font-family:'Noto Sans JP',sans-serif;outline:none;transition:.15s}
.field input:focus,.field select:focus{border-color:var(--blue)}
.field input:read-only{color:var(--muted);cursor:not-allowed}
/* å¥‘ç´„æ›¸æœ¬æ–‡ */
.contract-body{background:#090b13;border:1px solid var(--border);border-radius:10px;
  padding:24px 28px;font-size:12px;line-height:2;color:var(--text);max-height:400px;overflow-y:auto;margin-bottom:16px}
.contract-body h3{font-size:13px;font-weight:700;color:var(--gold);margin:16px 0 8px;border-bottom:1px solid var(--border2);padding-bottom:4px}
.contract-body h3:first-child{margin-top:0}
.contract-body p{margin-bottom:8px;color:var(--sub)}
.contract-body strong{color:var(--text)}
/* ç½²åã‚¨ãƒªã‚¢ */
.sig-box{border:2px dashed var(--border2);border-radius:12px;padding:20px;text-align:center;
  cursor:pointer;transition:.2s;position:relative;overflow:hidden}
.sig-box:hover,.sig-box.active{border-color:var(--blue);background:rgba(79,156,249,.03)}
.sig-box canvas{display:block;margin:0 auto;border-radius:8px;background:rgba(255,255,255,.03);cursor:crosshair}
/* Stepper */
.stepper{display:flex;margin-bottom:24px}
.step{flex:1;display:flex;flex-direction:column;align-items:center;position:relative}
.step:not(:last-child)::after{content:'';position:absolute;top:14px;left:calc(50% + 15px);right:calc(-50% + 15px);height:2px;background:var(--border2)}
.step.done:not(:last-child)::after{background:var(--green)}
.step.act:not(:last-child)::after{background:linear-gradient(90deg,var(--blue),var(--border2))}
.sdot{width:28px;height:28px;border-radius:50%;border:2px solid var(--border2);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;z-index:1;position:relative;background:var(--bg)}
.step.done .sdot{background:var(--green);border-color:var(--green);color:#0a0c10}
.step.act .sdot{background:var(--blue);border-color:var(--blue);color:#fff;box-shadow:0 0 14px rgba(79,156,249,.4)}
.slabel{font-size:10px;color:var(--muted);margin-top:6px;text-align:center;line-height:1.4}
.step.done .slabel{color:var(--green)}
.step.act .slabel{color:var(--blue);font-weight:700}
/* Table */
.tbl{width:100%;border-collapse:collapse}
.tbl th{padding:8px 14px;font-size:9px;color:var(--muted);font-weight:700;letter-spacing:.5px;text-transform:uppercase;border-bottom:1px solid var(--border);background:var(--card2);text-align:left}
.tbl td{padding:10px 14px;border-bottom:1px solid rgba(30,34,53,.5);font-size:12px;vertical-align:middle}
.tbl tr:last-child td{border:none}
.tbl tr:hover td{background:rgba(255,255,255,.012)}
.mono{font-family:'DM Mono',monospace}
/* Overlay */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.78);backdrop-filter:blur(5px);z-index:400;display:none;align-items:center;justify-content:center}
.overlay.show{display:flex}
.modal{background:var(--card);border:1px solid var(--border2);border-radius:16px;width:520px;max-height:90vh;overflow-y:auto}
.mhdr{display:flex;align-items:center;justify-content:space-between;padding:15px 22px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--card);z-index:1}
.mtitle{font-family:'Syne',sans-serif;font-size:14px;font-weight:800;color:var(--gold)}
.mclose{background:none;border:none;color:var(--muted);font-size:20px;cursor:pointer}
.mbody{padding:20px 22px}
.mfoot{padding:13px 22px;border-top:1px solid var(--border);display:flex;gap:8px;justify-content:flex-end;position:sticky;bottom:0;background:var(--card)}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:var(--border2);border-radius:2px}
</style>
</head>
<body>
<div class="hdr">
  <div style="display:flex;align-items:center;gap:12px">
    <div class="logo">CORETO</div>
    <div style="width:1px;height:18px;background:var(--border2)"></div>
    <span style="font-size:10px;color:var(--muted);letter-spacing:1px">æ¥­å‹™å§”è¨—å¥‘ç´„</span>
  </div>
  <div style="display:flex;gap:10px;align-items:center">
    <span class="pill pm" id="role-pill">â€”</span>
    <button class="btn btn-ghost btn-sm" onclick="history.back()">â† æˆ»ã‚‹</button>
    <button class="btn btn-ghost btn-sm" onclick="window.location.href='coreto-hub.html'">ğŸ  ãƒ›ãƒ¼ãƒ </button>
  </div>
</div>

<div class="layout">
  <div class="sidebar">
    <div class="sb-sec">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</div>
    <div class="sb-item on" id="sb-sign"    onclick="showPage('sign')"><span>âœï¸</span>å¥‘ç´„ç· çµ</div>
    <div class="sb-item"    id="sb-history" onclick="showPage('history')"><span>ğŸ“‹</span>ç· çµæ¸ˆã¿ä¸€è¦§</div>
    <div class="sb-item"    id="sb-hq"      onclick="showPage('hq')"><span>ğŸ¢</span>HQç®¡ç†</div>
  </div>
  <div class="main" id="main"></div>
</div>

<!-- é›»å­ç½²åãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div class="overlay" id="sig-modal">
<div class="modal" style="width:560px">
  <div class="mhdr"><div class="mtitle">é›»å­ç½²å</div><button class="mclose" onclick="closeSig()">âœ•</button></div>
  <div class="mbody">
    <div class="al al-info" style="margin-bottom:14px">
      â„¹ï¸ ç½²åæ¬„ã«ãƒã‚¦ã‚¹ï¼ˆã¾ãŸã¯ã‚¿ãƒƒãƒï¼‰ã§ç½²åã—ã¦ãã ã•ã„ã€‚ã“ã®ç½²åãŒå¥‘ç´„æ›¸ã«è¨˜éŒ²ã•ã‚Œã¾ã™ã€‚
    </div>
    <canvas id="sig-canvas" width="480" height="160" style="border:1px solid var(--border2);border-radius:10px;background:rgba(255,255,255,.03);display:block;margin:0 auto;cursor:crosshair"></canvas>
    <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
      <button class="btn btn-ghost btn-sm" onclick="clearSig()">ğŸ—‘ ã‚¯ãƒªã‚¢</button>
    </div>
  </div>
  <div class="mfoot">
    <button class="btn btn-ghost" onclick="closeSig()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
    <button class="btn btn-blue" onclick="confirmSig()">âœï¸ ã“ã®ç½²åã§ç¢ºå®š</button>
  </div>
</div>
</div>

<script>
const SESSION_KEY = 'coreto_session';
const s = (() => { try { return JSON.parse(sessionStorage.getItem(SESSION_KEY)||'{}'); } catch(e){return {};} })();
const ME = {
  id: s.id || '10012', name: s.name || 'å±±ç”° èª ', type: s.type || 're', rank: s.rank || 'gold',
  phone: s.phone || '090-1234-5678', email: s.email || 'yamada@example.com',
};
document.getElementById('role-pill').textContent = ME.name + ' / ' + ME.id;

// â”€â”€â”€ å¥‘ç´„ãƒ‡ãƒ¼ã‚¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CONTRACTS = [
  {
    id: 'CT-2024-001', name: 'æ¥­å‹™å§”è¨—åŸºæœ¬å¥‘ç´„æ›¸', version: 'v3.2', type: 're',
    signed: '2024-04-01', expires: '2025-03-31', status: 'expired',
    signedBy: ME.name, hash: 'sha256:a3f2b1c9...'
  },
  {
    id: 'CT-2025-001', name: 'æ¥­å‹™å§”è¨—åŸºæœ¬å¥‘ç´„æ›¸', version: 'v4.0', type: 're',
    signed: '2025-04-01', expires: '2026-03-31', status: 'active',
    signedBy: ME.name, hash: 'sha256:e7d4c2a1...'
  },
];

// â”€â”€â”€ æœªç½²åã®å¥‘ç´„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PENDING = {
  id: 'CT-2026-001',
  name: 'æ¥­å‹™å§”è¨—åŸºæœ¬å¥‘ç´„æ›¸ï¼ˆ2026å¹´åº¦ç‰ˆï¼‰',
  version: 'v5.0',
  issued: '2026-02-01',
  deadline: '2026-03-31',
  type: 're',
  changes: ['ç¬¬7æ¡ å ±é…¬è¦ç¨‹ï¼šå³æ™‚æ‰•ã„æ‰‹æ•°æ–™ã‚’2%â†’15%ã«æ”¹å®š', 'ç¬¬12æ¡ å€‹äººæƒ…å ±å–æ‰±ã„ï¼šæ”¹æ­£å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œ', 'é™„å‰‡ï¼šå®…å»ºå£«ç™»éŒ²ã«é–¢ã™ã‚‹ç¢ºèªäº‹é …ã‚’è¿½åŠ '],
};

// â”€â”€â”€ Page router â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showPage(p) {
  ['sign','history','hq'].forEach(id => document.getElementById('sb-'+id).classList.toggle('on', id===p));
  const pages = {sign: pageSign, history: pageHistory, hq: pageHQ};
  (pages[p]||pageSign)();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAGE: å¥‘ç´„ç· çµ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function pageSign() {
  const isHQ = ME.type === 'hq' || ME.id.startsWith('0');
  document.getElementById('main').innerHTML = `
    <div class="ptitle">æ¥­å‹™å§”è¨—å¥‘ç´„æ›¸ ç· çµ</div>
    <div class="psub">ç¾åœ¨ã®å¥‘ç´„çŠ¶æ³ã¨æ–°è¦ç· çµãŒå¿…è¦ãªå¥‘ç´„æ›¸ã‚’ç¢ºèªã§ãã¾ã™</div>

    ${PENDING ? `
    <!-- æœªç½²åã‚¢ãƒ©ãƒ¼ãƒˆ -->
    <div class="al al-warn">
      âš ï¸ <div><strong>ç½²åãŒå¿…è¦ãªå¥‘ç´„æ›¸ãŒã‚ã‚Šã¾ã™</strong><br>
      ã€Œ${PENDING.name}ï¼ˆ${PENDING.version}ï¼‰ã€â€” ç· åˆ‡ï¼š${PENDING.deadline}</div>
    </div>

    <!-- ã‚¹ãƒ†ãƒƒãƒ‘ãƒ¼ -->
    <div class="stepper">
      <div class="step done" id="st0"><div class="sdot">âœ“</div><div class="slabel">æœ¬äººç¢ºèª<br>å®Œäº†</div></div>
      <div class="step act"  id="st1"><div class="sdot">2</div><div class="slabel">å¥‘ç´„æ›¸<br>ç¢ºèª</div></div>
      <div class="step"      id="st2"><div class="sdot">3</div><div class="slabel">å¤‰æ›´ç‚¹<br>ç¢ºèª</div></div>
      <div class="step"      id="st3"><div class="sdot">4</div><div class="slabel">é›»å­<br>ç½²å</div></div>
      <div class="step"      id="st4"><div class="sdot">5</div><div class="slabel">ç· çµ<br>å®Œäº†</div></div>
    </div>

    <!-- å¤‰æ›´ç‚¹ã‚µãƒãƒªãƒ¼ -->
    <div class="card" style="margin-bottom:14px;border-color:rgba(251,146,60,.3)">
      <div class="ch" style="background:rgba(251,146,60,.05)">
        <div class="ch-t">å‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰ã®ä¸»ãªå¤‰æ›´ç‚¹</div>
        <span class="pill po">è¦ç¢ºèª ${PENDING.changes.length}ä»¶</span>
      </div>
      <div class="cb">
        <div style="display:flex;flex-direction:column;gap:8px">
          ${PENDING.changes.map((c,i) => `
          <div style="display:flex;align-items:flex-start;gap:10px;padding:10px 14px;
                      background:rgba(251,146,60,.05);border:1px solid rgba(251,146,60,.15);border-radius:9px">
            <span style="color:var(--orange);font-size:11px;font-weight:700;flex-shrink:0">æ”¹å®š ${i+1}</span>
            <span style="font-size:12px;line-height:1.6">${c}</span>
          </div>`).join('')}
        </div>
      </div>
    </div>

    <!-- å¥‘ç´„æ›¸æœ¬æ–‡ -->
    <div class="card">
      <div class="ch">
        <div class="ch-t">${PENDING.name}ï¼ˆ${PENDING.version}ï¼‰</div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-ghost btn-sm" onclick="downloadContract()">ğŸ“„ PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
        </div>
      </div>
      <div class="cb">
        <div class="contract-body" id="contract-scroll" onscroll="checkScroll(this)">
          <h3>ç¬¬1æ¡ï¼ˆç›®çš„ï¼‰</h3>
          <p>æœ¬å¥‘ç´„ã¯ã€æ ªå¼ä¼šç¤¾CORETOï¼ˆä»¥ä¸‹ã€Œç”²ã€ã¨ã„ã†ï¼‰ã¨æ¥­å‹™å§”è¨—è€…ï¼ˆä»¥ä¸‹ã€Œä¹™ã€ã¨ã„ã†ï¼‰ã¨ã®é–“ã§ã€ä¸å‹•ç”£ä»²ä»‹ãƒ»äººæç´¹ä»‹ã«é–¢ã™ã‚‹æ¥­å‹™å§”è¨—ã«é–¢ã—å¿…è¦ãªäº‹é …ã‚’å®šã‚ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚</p>
          <h3>ç¬¬2æ¡ï¼ˆæ¥­å‹™å†…å®¹ï¼‰</h3>
          <p>ç”²ã¯ä¹™ã«å¯¾ã—ã€ä»¥ä¸‹ã®æ¥­å‹™ã‚’å§”è¨—ã™ã‚‹ã€‚<br>
          <strong>â‘ </strong> ä¸å‹•ç”£è³ƒè²¸ãƒ»å£²è²·ä»²ä»‹æ¥­å‹™ã«ä¿‚ã‚‹é¡§å®¢é–‹æ‹“ãŠã‚ˆã³æ¡ˆä»¶å¯¾å¿œ<br>
          <strong>â‘¡</strong> äººæç´¹ä»‹æ¥­å‹™ã«ä¿‚ã‚‹æ±‚è·è€…ã®ãƒãƒƒãƒãƒ³ã‚°ãŠã‚ˆã³ã‚µãƒãƒ¼ãƒˆ<br>
          <strong>â‘¢</strong> ãã®ä»–ç”²ãŒåˆ¥é€”æŒ‡å®šã™ã‚‹æ¥­å‹™</p>
          <h3>ç¬¬3æ¡ï¼ˆç‹¬ç«‹å¥‘ç´„è€…ï¼‰</h3>
          <p>ä¹™ã¯ç‹¬ç«‹ã—ãŸæ¥­å‹™å§”è¨—è€…ã§ã‚ã‚Šã€æœ¬å¥‘ç´„ã¯é›‡ç”¨é–¢ä¿‚ã‚’æ§‹æˆã—ãªã„ã€‚ä¹™ã¯è‡ªå·±ã®è²¬ä»»ã¨è²»ç”¨ã«ãŠã„ã¦æ¥­å‹™ã‚’é‚è¡Œã™ã‚‹ã€‚</p>
          <h3>ç¬¬4æ¡ï¼ˆä¼šè²»ï¼‰</h3>
          <p>ä¹™ã¯ç”²ã«å¯¾ã—ã€æœˆé¡ä¼šè²»ã¨ã—ã¦<strong>é‡‘â—‹â—‹å††ï¼ˆç¨è¾¼ï¼‰</strong>ã‚’æ¯æœˆæœ«æ—¥ã¾ã§ã«æ”¯æ‰•ã†ã‚‚ã®ã¨ã™ã‚‹ã€‚</p>
          <h3>ç¬¬5æ¡ï¼ˆãƒ©ãƒ³ã‚¯åˆ¶åº¦ï¼‰</h3>
          <p>ç”²ã¯ä¹™ã®æ¥­ç¸¾ã«åŸºã¥ãã€Bronzeãƒ»Silverãƒ»Goldãƒ»Platinumã®ãƒ©ãƒ³ã‚¯ã‚’ä»˜ä¸ã™ã‚‹ã€‚å„ãƒ©ãƒ³ã‚¯ã®è©³ç´°ã¯åˆ¥é€”å®šã‚ã‚‹å ±é…¬è¦ç¨‹ã«ã‚ˆã‚‹ã€‚</p>
          <h3>ç¬¬6æ¡ï¼ˆå ±é…¬ï¼‰</h3>
          <p>ç”²ã¯ä¹™ã«å¯¾ã—ã€æˆç´„æ¡ˆä»¶ã«å¿œã˜ãŸå ±é…¬ã‚’åˆ¥é€”å®šã‚ã‚‹å ±é…¬è¦ç¨‹ã«å¾“ã„æ”¯æ‰•ã†ã€‚å ±é…¬ã¯æ¯æœˆ25æ—¥ï¼ˆé‡‘èæ©Ÿé–¢ä¼‘æ¥­æ—¥ã®å ´åˆã¯å‰å–¶æ¥­æ—¥ï¼‰ã«ã€ä¹™ãŒæŒ‡å®šã™ã‚‹å£åº§ã¸æŒ¯ã‚Šè¾¼ã‚€ã€‚</p>
          <h3>ç¬¬7æ¡ï¼ˆå³æ™‚æ‰•ã„ï¼‰</h3>
          <p>ä¹™ã¯æ‰€å®šã®æ‰‹ç¶šãã«ã‚ˆã‚Šå³æ™‚æ‰•ã„ã‚’ç”³è«‹ã§ãã‚‹ã€‚å³æ™‚æ‰•ã„æ‰‹æ•°æ–™ã¯ç”³è«‹é¡ã®<strong>15%</strong>ã¨ã—ã€æºæ³‰å¾´åé¡ã¯ç”³è«‹é¡ã®10.21%ï¼ˆ100ä¸‡å††è¶…éƒ¨åˆ†ã¯20.42%ï¼‰ã¨ã™ã‚‹ã€‚</p>
          <h3>ç¬¬8æ¡ï¼ˆçŸ¥çš„è²¡ç”£ï¼‰</h3>
          <p>ä¹™ãŒæ¥­å‹™é‚è¡Œä¸­ã«ä½œæˆã—ãŸæˆæœç‰©ã®çŸ¥çš„è²¡ç”£æ¨©ã¯ç”²ã«å¸°å±ã™ã‚‹ã€‚</p>
          <h3>ç¬¬9æ¡ï¼ˆç§˜å¯†ä¿æŒï¼‰</h3>
          <p>ä¹™ã¯æ¥­å‹™ä¸ŠçŸ¥ã‚Šå¾—ãŸç”²ãŠã‚ˆã³é¡§å®¢ã®ç§˜å¯†æƒ…å ±ã‚’ç¬¬ä¸‰è€…ã«é–‹ç¤ºãƒ»æ¼æ´©ã—ã¦ã¯ãªã‚‰ãªã„ã€‚æœ¬æ¡ã®ç¾©å‹™ã¯å¥‘ç´„çµ‚äº†å¾Œã‚‚3å¹´é–“å­˜ç¶šã™ã‚‹ã€‚</p>
          <h3>ç¬¬10æ¡ï¼ˆåç¤¾ä¼šçš„å‹¢åŠ›ã®æ’é™¤ï¼‰</h3>
          <p>ä¹™ã¯ã€ç¾åœ¨ãŠã‚ˆã³å°†æ¥ã«ã‚ãŸã‚Šã€åç¤¾ä¼šçš„å‹¢åŠ›ã«è©²å½“ã—ãªã„ã“ã¨ã‚’è¡¨æ˜ãƒ»ä¿è¨¼ã™ã‚‹ã€‚</p>
          <h3>ç¬¬11æ¡ï¼ˆå€‹äººæƒ…å ±ã®å–æ‰±ã„ï¼‰</h3>
          <p>ä¹™ã¯æ¥­å‹™ä¸Šå–ã‚Šæ‰±ã†å€‹äººæƒ…å ±ã«ã¤ã„ã¦ã€æ”¹æ­£å€‹äººæƒ…å ±ä¿è­·æ³•ãã®ä»–ã®æ³•ä»¤ã‚’éµå®ˆã—ã€é©åˆ‡ã«ç®¡ç†ã™ã‚‹ã€‚</p>
          <h3>ç¬¬12æ¡ï¼ˆå¥‘ç´„æœŸé–“ï¼‰</h3>
          <p>æœ¬å¥‘ç´„ã®æœ‰åŠ¹æœŸé–“ã¯ç· çµæ—¥ã‹ã‚‰1å¹´é–“ã¨ã—ã€åŒæ–¹ã‹ã‚‰æ›¸é¢ã«ã‚ˆã‚‹ç”³å‡ºãŒãªã„é™ã‚Šè‡ªå‹•çš„ã«1å¹´é–“å»¶é•·ã•ã‚Œã‚‹ã€‚</p>
          <h3>é™„å‰‡ï¼šå®…åœ°å»ºç‰©å–å¼•å£«ã®ç™»éŒ²</h3>
          <p>ä¹™ãŒå®…åœ°å»ºç‰©å–å¼•å£«ã®è³‡æ ¼ã‚’æœ‰ã™ã‚‹å ´åˆã€åˆ¥é€”ç™»éŒ²æ‰‹ç¶šããŒå¿…è¦ãªå ´åˆãŒã‚ã‚‹ã€‚è©³ç´°ã¯HQã«å•åˆã›ã‚‹ã“ã¨ã€‚</p>
        </div>

        <!-- åŒæ„ãƒã‚§ãƒƒã‚¯ -->
        <div id="agree-section" style="opacity:.4;pointer-events:none" id="agree-wrap">
          <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:16px">
            <label style="display:flex;align-items:flex-start;gap:9px;font-size:12px;cursor:pointer;
                          padding:10px 14px;background:var(--card2);border-radius:9px">
              <input type="checkbox" id="chk1" onchange="checkAllAgreed()" style="margin-top:2px">
              å¥‘ç´„æ›¸å…¨æ–‡ã‚’èª­ã¿ã€å†…å®¹ã‚’ç†è§£ã—ã¾ã—ãŸ
            </label>
            <label style="display:flex;align-items:flex-start;gap:9px;font-size:12px;cursor:pointer;
                          padding:10px 14px;background:var(--card2);border-radius:9px">
              <input type="checkbox" id="chk2" onchange="checkAllAgreed()" style="margin-top:2px">
              å¤‰æ›´ç‚¹ï¼ˆ${PENDING.changes.length}ä»¶ï¼‰ã‚’ç¢ºèªã—ã€æ–°æ¡ä»¶ã«åŒæ„ã—ã¾ã™
            </label>
            <label style="display:flex;align-items:flex-start;gap:9px;font-size:12px;cursor:pointer;
                          padding:10px 14px;background:var(--card2);border-radius:9px">
              <input type="checkbox" id="chk3" onchange="checkAllAgreed()" style="margin-top:2px">
              é›»å­ç½²åã«ã‚ˆã‚‹ç· çµã«åŒæ„ã—ã¾ã™
            </label>
          </div>
          <div style="font-size:10px;color:var(--muted);margin-bottom:12px;text-align:center">
            â†‘ å¥‘ç´„æ›¸ã‚’æœ€å¾Œã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã‹ã‚‰åŒæ„ã§ãã¾ã™
          </div>
          <button class="btn btn-gold" id="to-sign-btn" onclick="openSig()" disabled
                  style="width:100%;justify-content:center;padding:13px;font-size:13px;border-radius:11px">
            âœï¸ é›»å­ç½²åã¸é€²ã‚€
          </button>
        </div>
      </div>
    </div>` : `
    <div class="al al-ok">âœ… ç¾åœ¨ã€ç½²åãŒå¿…è¦ãªå¥‘ç´„æ›¸ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</div>`}
  `;
}

let scrolledContract = false;
function checkScroll(el) {
  if (el.scrollTop + el.clientHeight >= el.scrollHeight - 20) {
    scrolledContract = true;
    document.getElementById('agree-section').style.opacity = '1';
    document.getElementById('agree-section').style.pointerEvents = 'auto';
  }
}
function checkAllAgreed() {
  const all = ['chk1','chk2','chk3'].every(id => document.getElementById(id)?.checked);
  const btn = document.getElementById('to-sign-btn');
  if (btn) { btn.disabled = !all; }
  // advance stepper
  if (all) {
    document.getElementById('st1').className='step done';
    document.getElementById('st1').querySelector('.sdot').textContent='âœ“';
    document.getElementById('st2').className='step done';
    document.getElementById('st2').querySelector('.sdot').textContent='âœ“';
    document.getElementById('st3').className='step act';
  }
}

// â”€â”€ é›»å­ç½²å â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let sigCanvas, sigCtx, isDrawing=false, hasSig=false;
function openSig() {
  document.getElementById('sig-modal').classList.add('show');
  setTimeout(initSigCanvas, 50);
}
function closeSig() { document.getElementById('sig-modal').classList.remove('show'); }
function initSigCanvas() {
  sigCanvas = document.getElementById('sig-canvas');
  sigCtx = sigCanvas.getContext('2d');
  sigCtx.strokeStyle = '#e2e6f3';
  sigCtx.lineWidth = 2.5;
  sigCtx.lineCap = 'round';
  sigCtx.lineJoin = 'round';
  sigCanvas.onmousedown  = e => { isDrawing=true; sigCtx.beginPath(); const r=sigCanvas.getBoundingClientRect(); sigCtx.moveTo(e.clientX-r.left,e.clientY-r.top); };
  sigCanvas.onmousemove  = e => { if(!isDrawing)return; const r=sigCanvas.getBoundingClientRect(); sigCtx.lineTo(e.clientX-r.left,e.clientY-r.top); sigCtx.stroke(); hasSig=true; };
  sigCanvas.onmouseup    = () => { isDrawing=false; };
  sigCanvas.ontouchstart = e => { e.preventDefault(); const t=e.touches[0],r=sigCanvas.getBoundingClientRect(); isDrawing=true; sigCtx.beginPath(); sigCtx.moveTo(t.clientX-r.left,t.clientY-r.top); };
  sigCanvas.ontouchmove  = e => { e.preventDefault(); if(!isDrawing)return; const t=e.touches[0],r=sigCanvas.getBoundingClientRect(); sigCtx.lineTo(t.clientX-r.left,t.clientY-r.top); sigCtx.stroke(); hasSig=true; };
  sigCanvas.ontouchend   = () => { isDrawing=false; };
}
function clearSig() {
  if(sigCtx) sigCtx.clearRect(0,0,sigCanvas.width,sigCanvas.height);
  hasSig=false;
}
function confirmSig() {
  if (!hasSig) { alert('ç½²åã—ã¦ã‹ã‚‰ç¢ºå®šã—ã¦ãã ã•ã„'); return; }
  closeSig();
  completeSigning();
}
function completeSigning() {
  const now = new Date().toLocaleString('ja-JP');
  const hash = 'sha256:' + Math.random().toString(36).substring(2,10) + Math.random().toString(36).substring(2,10);

  // Update stepper
  ['st3','st4'].forEach(id => {
    const el = document.getElementById(id);
    if (el) { el.className='step done'; el.querySelector('.sdot').textContent='âœ“'; }
  });

  // Show completion
  const main = document.getElementById('main');
  const completionCard = document.createElement('div');
  completionCard.className = 'card';
  completionCard.style.borderColor = 'rgba(52,211,153,.3)';
  completionCard.innerHTML = `
    <div class="ch" style="background:rgba(52,211,153,.05)">
      <div class="ch-t">ç· çµå®Œäº†</div>
      <span class="pill pg">âœ“ æœ‰åŠ¹</span>
    </div>
    <div class="cb">
      <div class="al al-ok" style="margin-bottom:14px">
        âœ… <div>ã€Œ${PENDING.name}ï¼ˆ${PENDING.version}ï¼‰ã€ã®é›»å­ç½²åãŒå®Œäº†ã—ã¾ã—ãŸã€‚<br>
        æœ¬éƒ¨ã®Slackã«ç· çµé€šçŸ¥ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚</div>
      </div>
      <div style="display:grid;grid-template-columns:auto 1fr;gap:7px 16px;font-size:12px;
                  padding:14px;background:var(--card2);border-radius:10px">
        <span style="color:var(--muted)">å¥‘ç´„ID</span><span class="mono">CT-2026-002</span>
        <span style="color:var(--muted)">å¥‘ç´„æ›¸</span><span>${PENDING.name}</span>
        <span style="color:var(--muted)">ãƒãƒ¼ã‚¸ãƒ§ãƒ³</span><span>${PENDING.version}</span>
        <span style="color:var(--muted)">ç½²åè€…</span><span>${ME.name}ï¼ˆ${ME.id}ï¼‰</span>
        <span style="color:var(--muted)">ç½²åæ—¥æ™‚</span><span class="mono">${now}</span>
        <span style="color:var(--muted)">ãƒãƒƒã‚·ãƒ¥</span><span class="mono" style="font-size:10px;color:var(--muted)">${hash}</span>
        <span style="color:var(--muted)">æœ‰åŠ¹æœŸé™</span><span>2027-03-31</span>
      </div>
      <div style="display:flex;gap:8px;margin-top:14px">
        <button class="btn btn-ghost btn-sm" onclick="downloadContract()">ğŸ“„ PDFä¿å­˜</button>
      </div>
    </div>`;
  main.appendChild(completionCard);
  completionCard.scrollIntoView({behavior:'smooth'});
}

function downloadContract() {
  const w = window.open('','_blank','width=800,height:700');
  w.document.write(`<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><title>æ¥­å‹™å§”è¨—å¥‘ç´„æ›¸</title>
  <style>body{font-family:'Noto Sans JP',sans-serif;max-width:700px;margin:0 auto;padding:40px;font-size:13px;line-height:2;color:#1a1a1a}
  h1{text-align:center;font-size:18px;margin-bottom:30px;border-bottom:2px solid #c9a84c;padding-bottom:12px}
  h2{font-size:14px;color:#7a5f22;margin:20px 0 8px;border-bottom:1px solid #eee;padding-bottom:4px}
  .meta{display:grid;grid-template-columns:auto 1fr;gap:4px 20px;font-size:11px;margin-bottom:20px;
        padding:14px;background:#f9f9f9;border-radius:6px}
  .sig-area{margin-top:40px;border-top:1px solid #ddd;padding-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}
  .sig-box{border:1px solid #ccc;border-radius:6px;padding:16px;text-align:center;min-height:80px}
  @media print{@page{margin:20mm}}</style></head><body>
  <h1>æ¥­å‹™å§”è¨—åŸºæœ¬å¥‘ç´„æ›¸ï¼ˆv5.0ï¼‰</h1>
  <div class="meta">
    <span>å¥‘ç´„ID</span><span>CT-2026-002</span>
    <span>ç”²ï¼ˆå§”è¨—è€…ï¼‰</span><span>æ ªå¼ä¼šç¤¾CORETO</span>
    <span>ä¹™ï¼ˆå—è¨—è€…ï¼‰</span><span>${ME.name}ï¼ˆID: ${ME.id}ï¼‰</span>
    <span>ç· çµæ—¥</span><span>${new Date().toLocaleDateString('ja-JP')}</span>
    <span>æœ‰åŠ¹æœŸé™</span><span>2027å¹´3æœˆ31æ—¥</span>
  </div>
  <h2>ç¬¬1æ¡ï¼ˆç›®çš„ï¼‰</h2><p>æœ¬å¥‘ç´„ã¯ã€æ ªå¼ä¼šç¤¾COREBLDGã¨æ¥­å‹™å§”è¨—è€…ã¨ã®é–“ã§ã€ä¸å‹•ç”£ä»²ä»‹ãƒ»äººæç´¹ä»‹æ¥­å‹™ã®å§”è¨—ã«å¿…è¦ãªäº‹é …ã‚’å®šã‚ã‚‹ã€‚</p>
  <h2>ç¬¬7æ¡ï¼ˆå³æ™‚æ‰•ã„æ‰‹æ•°æ–™ï¼‰</h2><p>å³æ™‚æ‰•ã„æ‰‹æ•°æ–™ã¯ç”³è«‹é¡ã®15%ã¨ã™ã‚‹ã€‚</p>
  <p style="text-align:center;color:#888;font-size:10px;margin-top:30px">ï¼ˆå¥‘ç´„æ›¸æœ¬æ–‡ã¯çœç•¥ â€” æœ¬ç•ªã§ã¯å…¨æ–‡æ²è¼‰ï¼‰</p>
  <div class="sig-area">
    <div class="sig-box"><div style="font-size:11px;color:#888;margin-bottom:12px">ç”² ç½²åæ¬„</div><div>æ ªå¼ä¼šç¤¾CORETO</div></div>
    <div class="sig-box"><div style="font-size:11px;color:#888;margin-bottom:12px">ä¹™ é›»å­ç½²å</div><div>${ME.name}</div><div style="font-size:10px;color:#aaa;margin-top:8px">${new Date().toLocaleString('ja-JP')}</div></div>
  </div>
  <div style="text-align:right;font-size:9px;color:#aaa;margin-top:20px">é›»å­ç· çµ â€” CORETO Contract System v5.0</div>
  <script>window.print();<\/script></body></html>`);
  w.document.close();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAGE: ç· çµæ¸ˆã¿ä¸€è¦§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function pageHistory() {
  document.getElementById('main').innerHTML = `
    <div class="ptitle">ç· çµæ¸ˆã¿å¥‘ç´„æ›¸</div>
    <div class="psub">éå»ã«ç· çµã—ãŸæ¥­å‹™å§”è¨—å¥‘ç´„æ›¸ã®ä¸€è¦§</div>
    <div class="card">
      <div class="ch"><div class="ch-t">å¥‘ç´„æ›¸ä¸€è¦§</div><span class="pill pm">${CONTRACTS.length}ä»¶</span></div>
      <table class="tbl">
        <thead><tr><th>å¥‘ç´„ID</th><th>å¥‘ç´„æ›¸å</th><th>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</th><th>ç· çµæ—¥</th><th>æœ‰åŠ¹æœŸé™</th><th>çŠ¶æ…‹</th><th>æ“ä½œ</th></tr></thead>
        <tbody>
          ${CONTRACTS.map(c => `<tr>
            <td class="mono" style="font-size:10px">${c.id}</td>
            <td style="font-size:11px">${c.name}</td>
            <td class="mono" style="font-size:11px">${c.version}</td>
            <td class="mono" style="font-size:11px">${c.signed}</td>
            <td class="mono" style="font-size:11px">${c.expires}</td>
            <td>${c.status==='active' ? '<span class="pill pg">âœ“ æœ‰åŠ¹</span>' : '<span class="pill pm">æœŸé™åˆ‡ã‚Œ</span>'}</td>
            <td><button class="btn btn-ghost btn-sm" onclick="downloadContract()">ğŸ“„ PDF</button></td>
          </tr>`).join('')}
        </tbody>
      </table>
    </div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAGE: HQç®¡ç†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function pageHQ() {
  document.getElementById('main').innerHTML = `
    <div class="ptitle">å¥‘ç´„ç®¡ç†ï¼ˆHQï¼‰</div>
    <div class="psub">å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å¥‘ç´„çŠ¶æ³ã‚’ç®¡ç†ã—ã¾ã™</div>

    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px">
      <div class="card" style="margin:0;padding:16px">
        <div style="font-size:22px;margin-bottom:6px">ğŸ“‹</div>
        <div class="mono" style="font-size:26px;color:var(--orange)">3</div>
        <div style="font-size:10px;color:var(--muted)">ç½²åå¾…ã¡</div>
      </div>
      <div class="card" style="margin:0;padding:16px">
        <div style="font-size:22px;margin-bottom:6px">âœ…</div>
        <div class="mono" style="font-size:26px;color:var(--green)">48</div>
        <div style="font-size:10px;color:var(--muted)">æœ‰åŠ¹å¥‘ç´„</div>
      </div>
      <div class="card" style="margin:0;padding:16px">
        <div style="font-size:22px;margin-bottom:6px">â°</div>
        <div class="mono" style="font-size:26px;color:var(--red)">7</div>
        <div style="font-size:10px;color:var(--muted)">30æ—¥ä»¥å†…ã«æœŸé™åˆ‡ã‚Œ</div>
      </div>
      <div class="card" style="margin:0;padding:16px">
        <div style="font-size:22px;margin-bottom:6px">ğŸ“¤</div>
        <div class="mono" style="font-size:26px;color:var(--blue)">2</div>
        <div style="font-size:10px;color:var(--muted)">æ–°ç‰ˆé…å¸ƒæ¸ˆã¿ãƒ»æœªç½²å</div>
      </div>
    </div>

    <div class="card" style="margin-bottom:14px">
      <div class="ch">
        <div class="ch-t">æ–°è¦å¥‘ç´„æ›¸ã®é…å¸ƒ</div>
        <button class="btn btn-blue btn-sm" onclick="distributeContract()">ğŸ“¤ å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«é…å¸ƒ</button>
      </div>
      <div class="cb">
        <div class="g2">
          <div class="field"><label>å¥‘ç´„æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</label>
            <select><option>æ¥­å‹™å§”è¨—åŸºæœ¬å¥‘ç´„æ›¸ v5.0ï¼ˆ2026å¹´åº¦ç‰ˆï¼‰</option></select>
          </div>
          <div class="field"><label>ç½²åæœŸé™</label>
            <input type="date" value="2026-03-31"></div>
        </div>
        <div class="field" style="margin-bottom:0"><label>å¯¾è±¡è€…</label>
          <select><option>å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ»ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</option><option>REã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã¿</option><option>HRã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã¿</option><option>ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®ã¿</option></select>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="ch"><div class="ch-t">ç½²åå¾…ã¡ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ</div><span class="pill po">3ä»¶</span></div>
      <table class="tbl">
        <thead><tr><th>ID</th><th>æ°å</th><th>ç¨®åˆ¥</th><th>é…å¸ƒæ—¥</th><th>ç½²åæœŸé™</th><th>ãƒªãƒã‚¤ãƒ³ãƒ‰</th></tr></thead>
        <tbody>
          <tr><td class="mono">10023</td><td>éˆ´æœ¨ å¥å¤ª</td><td><span class="pill pb">RE</span></td>
              <td class="mono" style="font-size:10px">2026/02/01</td><td class="mono" style="font-size:10px;color:var(--orange)">2026/03/31</td>
              <td><button class="btn btn-ghost btn-sm" onclick="remindAgent('10023')">ğŸ“¨ ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡</button></td></tr>
          <tr><td class="mono">10041</td><td>æ¸¡è¾º éš†</td><td><span class="pill pb">RE</span></td>
              <td class="mono" style="font-size:10px">2026/02/01</td><td class="mono" style="font-size:10px;color:var(--orange)">2026/03/31</td>
              <td><button class="btn btn-ghost btn-sm" onclick="remindAgent('10041')">ğŸ“¨ ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡</button></td></tr>
          <tr><td class="mono">20005</td><td>ç”°ä¸­ ç¾ç©‚</td><td><span class="pill pg" style="background:rgba(52,211,153,.1)">HR</span></td>
              <td class="mono" style="font-size:10px">2026/02/01</td><td class="mono" style="font-size:10px;color:var(--red)">2026/03/31</td>
              <td><button class="btn btn-ghost btn-sm" onclick="remindAgent('20005')">ğŸ“¨ ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡</button></td></tr>
        </tbody>
      </table>
    </div>
  `;
}

function distributeContract() {
  if (!confirm('å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æ–°å¥‘ç´„æ›¸ã‚’é…å¸ƒã—ã¾ã™ã‹ï¼Ÿ')) return;
  alert('âœ… å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã€Œæ¥­å‹™å§”è¨—åŸºæœ¬å¥‘ç´„æ›¸ v5.0ã€ã‚’é…å¸ƒã—ã¾ã—ãŸã€‚\nLINEãŠã‚ˆã³Slackã«é€šçŸ¥ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚');
}
function remindAgent(id) {
  alert(`âœ… ID${id}ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ãƒªãƒã‚¤ãƒ³ãƒ‰ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚\nï¼ˆLINE + Slackã«é€šçŸ¥ï¼‰`);
}

// Init
showPage('sign');
</script>
</body>
</html>
