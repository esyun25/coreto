<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CORETO ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ </title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=DM+Mono:wght@400;500&display=swap');

*{box-sizing:border-box;margin:0;padding:0;}
:root{
  --bg:#0d0f14;--card:#161921;--hover:#1e2230;--border:#252a38;
  --gold:#c9a84c;--gold-l:#e8c96a;--muted:#6b7280;--sub:#9ca3af;
  --green:#22c55e;--blue:#3b82f6;--orange:#f59e0b;--red:#ef4444;--purple:#a855f7;
}
body{font-family:'Noto Sans JP',sans-serif;background:var(--bg);color:#e8eaf0;min-height:100vh;}

.header{background:#0a0c10;border-bottom:1px solid var(--border);padding:16px 28px;display:flex;align-items:center;justify-content:space-between;}
.logo{font-family:'DM Mono',monospace;font-size:20px;color:var(--gold);letter-spacing:3px;}
.header-sub{font-size:11px;color:var(--muted);margin-top:2px;}

.tabs{background:#0a0c10;border-bottom:1px solid var(--border);padding:0 28px;display:flex;}
.tab{padding:11px 18px;font-size:12px;color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;transition:all .15s;white-space:nowrap;background:none;border-top:none;border-left:none;border-right:none;font-family:'Noto Sans JP',sans-serif;}
.tab:hover{color:#e8eaf0;}
.tab.active{color:var(--gold);border-bottom-color:var(--gold);}

.page{display:none;padding:28px;max-width:1300px;margin:0 auto;}
.page.active{display:block;}

.grid2{display:grid;grid-template-columns:1fr 1fr;gap:20px;}
.grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;}

.card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:20px;margin-bottom:16px;}
.card-title{font-size:14px;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px;}
.s-label{font-size:11px;color:var(--muted);letter-spacing:1.2px;text-transform:uppercase;margin-bottom:12px;margin-top:24px;}

/* ===== SCAN DESK ===== */
.scan-desk{
  background:linear-gradient(135deg,#0f1520 0%,#161921 100%);
  border:2px solid var(--border);
  border-radius:14px;
  padding:28px;
  position:relative;
  overflow:hidden;
}
.scan-desk::before{
  content:'';position:absolute;top:-40px;right:-40px;
  width:200px;height:200px;
  background:radial-gradient(circle,rgba(201,168,76,0.06) 0%,transparent 70%);
  border-radius:50%;
}

.status-selector{display:flex;gap:10px;margin-bottom:24px;flex-wrap:wrap;}
.status-btn{
  padding:10px 18px;border-radius:8px;font-size:13px;font-weight:600;
  cursor:pointer;border:2px solid var(--border);background:var(--hover);
  color:var(--sub);transition:all .15s;font-family:'Noto Sans JP',sans-serif;
  display:flex;align-items:center;gap:7px;
}
.status-btn:hover{border-color:rgba(201,168,76,0.4);color:#e8eaf0;}
.status-btn.active-shipped{border-color:var(--blue);background:rgba(59,130,246,0.12);color:var(--blue);}
.status-btn.active-received{border-color:var(--green);background:rgba(34,197,94,0.12);color:var(--green);}
.status-btn.active-stored{border-color:var(--purple);background:rgba(168,85,247,0.12);color:var(--purple);}
.status-btn.active-rejected{border-color:var(--red);background:rgba(239,68,68,0.12);color:var(--red);}

.scan-input-area{
  background:#0a0c10;
  border:2px dashed var(--border);
  border-radius:10px;
  padding:20px;
  display:flex;
  align-items:center;
  gap:16px;
  transition:border-color .2s;
  margin-bottom:20px;
  cursor:text;
}
.scan-input-area.focused{border-color:var(--gold);border-style:solid;}
.scan-input-area.success{border-color:var(--green);border-style:solid;}
.scan-input-area.error{border-color:var(--red);border-style:solid;}

.scan-icon{font-size:36px;flex-shrink:0;}
.scan-input-inner{flex:1;}
.scan-hint{font-size:12px;color:var(--muted);margin-bottom:6px;}
.scan-input{
  width:100%;background:transparent;border:none;outline:none;
  font-family:'DM Mono',monospace;font-size:16px;color:#e8eaf0;
  caret-color:var(--gold);
}
.scan-input::placeholder{color:#374151;}

/* ã‚¹ã‚­ãƒ£ãƒ³çµæœ */
.scan-result{
  background:var(--hover);border:1px solid var(--border);
  border-radius:10px;padding:16px;
  display:none;
}
.scan-result.visible{display:block;animation:slideIn .2s ease;}
@keyframes slideIn{from{opacity:0;transform:translateY(-8px);}to{opacity:1;transform:none;}}

.result-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;}
.result-case{font-family:'DM Mono',monospace;font-size:12px;color:var(--gold);}
.result-status-badge{padding:4px 12px;border-radius:20px;font-size:11px;font-weight:700;}

.result-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;}
.result-field{}
.result-key{font-size:10px;color:var(--muted);margin-bottom:2px;}
.result-val{font-size:13px;font-weight:500;}

.confirm-btn{
  width:100%;margin-top:14px;padding:12px;
  background:var(--gold);color:#0a0c10;
  border:none;border-radius:8px;font-size:13px;font-weight:700;
  cursor:pointer;font-family:'Noto Sans JP',sans-serif;
  transition:background .15s;
}
.confirm-btn:hover{background:var(--gold-l);}

/* ã‚¹ã‚­ãƒ£ãƒ³å±¥æ­´ */
.history-row{
  display:flex;align-items:center;gap:12px;
  padding:10px 0;border-bottom:1px solid rgba(37,42,56,0.5);
  font-size:12px;
}
.history-row:last-child{border-bottom:none;}
.h-time{font-family:'DM Mono',monospace;font-size:11px;color:var(--muted);min-width:50px;}
.h-code{font-family:'DM Mono',monospace;color:var(--gold);min-width:160px;}
.h-case{color:var(--sub);flex:1;}
.h-badge{padding:3px 10px;border-radius:20px;font-size:10px;font-weight:600;white-space:nowrap;}

/* ===== LABEL PREVIEW ===== */
/* æ„Ÿç†±ãƒ©ãƒ™ãƒ«ï¼ˆ102mmÃ—62mm ã‚’ç”»é¢è¡¨ç¤º: 1mm=3pxï¼‰ */
.thermal-label{
  width:306px;min-height:200px;
  background:white;border-radius:4px;
  padding:9px 11px;
  font-family:'Noto Sans JP',sans-serif;
  color:#111;
  margin:0 auto;
  box-shadow:0 4px 20px rgba(0,0,0,0.5);
  display:flex;flex-direction:column;
  position:relative;
}
.tl-type-bar{font-size:7px;font-weight:700;letter-spacing:0.5px;padding:2px 7px;border-radius:2px;display:inline-block;margin-bottom:5px;width:fit-content;}
.tl-bar-blue{background:#dbeafe;color:#1d4ed8;}
.tl-bar-purple{background:#ede9fe;color:#6d28d9;}
.tl-bar-amber{background:#fef3c7;color:#b45309;}
.tl-to-label{font-size:6px;color:#9ca3af;letter-spacing:0.5px;margin-bottom:1px;}
.tl-postal{font-size:10px;color:#374151;letter-spacing:2px;margin-bottom:1px;}
.tl-address{font-size:7px;color:#374151;line-height:1.5;margin-bottom:1px;}
.tl-name{font-size:13px;font-weight:700;color:#111827;line-height:1.2;}
.tl-honorific{font-size:9px;font-weight:400;}
.tl-divider{border:none;border-top:0.5px solid #e5e7eb;margin:4px 0;}
.tl-from-label{font-size:6px;color:#9ca3af;letter-spacing:0.5px;margin-bottom:1px;}
.tl-from-name{font-size:7.5px;font-weight:700;color:#374151;line-height:1.4;}
.tl-from-addr{font-size:6.5px;color:#6b7280;line-height:1.4;}
.tl-from-tel{font-size:6.5px;color:#6b7280;}

/* ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ */
.tl-barcode-area{
  margin-top:5px;
  border-top:0.5px solid #f0f0f0;
  padding-top:4px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:6px;
}
.tl-barcode-svg{flex:1;}
.tl-barcode-meta{text-align:right;flex-shrink:0;}
.tl-barcode-id{font-family:'DM Mono',monospace;font-size:6.5px;color:#374151;font-weight:600;}
.tl-barcode-type{font-size:6px;color:#9ca3af;}

/* ãƒ©ãƒ™ãƒ«é¸æŠãƒœã‚¿ãƒ³ */
.label-select-row{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap;}
.label-select-btn{
  padding:7px 14px;border-radius:6px;font-size:12px;font-weight:500;
  cursor:pointer;border:1px solid var(--border);background:var(--hover);
  color:var(--sub);transition:all .15s;font-family:'Noto Sans JP',sans-serif;
}
.label-select-btn:hover{border-color:rgba(201,168,76,0.4);color:#e8eaf0;}
.label-select-btn.active{border-color:var(--gold);background:rgba(201,168,76,0.1);color:var(--gold);}

/* ===== KINTONE SETUP ===== */
.step{display:flex;gap:14px;align-items:flex-start;padding:14px 0;border-bottom:1px solid rgba(37,42,56,0.5);}
.step:last-child{border-bottom:none;}
.step-num{width:26px;height:26px;background:var(--gold);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#0a0c10;flex-shrink:0;margin-top:1px;}
.step-title{font-size:13px;font-weight:600;margin-bottom:4px;}
.step-desc{font-size:12px;color:var(--sub);line-height:1.8;}
code{background:var(--hover);padding:1px 6px;border-radius:3px;font-size:11px;color:var(--gold);font-family:'DM Mono',monospace;}
.hint{background:rgba(201,168,76,0.06);border:1px solid rgba(201,168,76,0.2);border-radius:6px;padding:12px;font-size:12px;color:var(--sub);line-height:1.7;margin-top:12px;}

/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ */
.badge-shipped{background:rgba(59,130,246,0.15);color:var(--blue);}
.badge-received{background:rgba(34,197,94,0.15);color:var(--green);}
.badge-stored{background:rgba(168,85,247,0.15);color:var(--purple);}
.badge-rejected{background:rgba(239,68,68,0.15);color:var(--red);}

/* ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ */
.tl-item{display:flex;gap:12px;padding-bottom:14px;position:relative;}
.tl-item::before{content:'';position:absolute;left:6px;top:14px;width:1px;height:100%;background:var(--border);}
.tl-item:last-child::before{display:none;}
.tl-dot{width:13px;height:13px;border-radius:50%;flex-shrink:0;margin-top:2px;}
.tl-dot-done{background:var(--green);}
.tl-dot-active{background:var(--gold);box-shadow:0 0 8px rgba(201,168,76,0.5);}
.tl-dot-pending{background:var(--border);}
.tl-text{font-size:12px;font-weight:500;}
.tl-sub{font-size:11px;color:var(--muted);margin-top:2px;}

/* æµã‚Œå›³ */
.flow-row{display:flex;align-items:center;gap:0;flex-wrap:wrap;margin-bottom:16px;}
.flow-box{background:var(--hover);border:1px solid var(--border);border-radius:6px;padding:9px 14px;font-size:12px;text-align:center;min-width:100px;}
.flow-box.hl{border-color:var(--gold);background:rgba(201,168,76,0.08);color:var(--gold);}
.flow-box.hl-blue{border-color:var(--blue);background:rgba(59,130,246,0.08);color:var(--blue);}
.flow-box.hl-green{border-color:var(--green);background:rgba(34,197,94,0.08);color:var(--green);}
.flow-arr{color:var(--muted);font-size:16px;padding:0 8px;}

/* ãƒˆãƒ¼ã‚¹ãƒˆ */
.toast{
  position:fixed;bottom:28px;left:50%;transform:translateX(-50%) translateY(20px);
  background:rgba(34,197,94,0.15);border:1px solid var(--green);
  color:var(--green);padding:12px 24px;border-radius:8px;
  font-size:13px;font-weight:600;
  opacity:0;transition:all .3s;pointer-events:none;z-index:100;
  white-space:nowrap;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
.toast.error-toast{background:rgba(239,68,68,0.15);border-color:var(--red);color:var(--red);}
</style>
</head>
<body>

<div class="header">
  <div>
    <div class="logo">CORETO
  <button onclick="window.location.href='coreto-admin-rbac.html'"
            style="font-size:10px;padding:5px 12px;border-radius:6px;border:1px solid var(--border2);
            background:transparent;color:var(--muted);cursor:pointer;font-family:'Noto Sans JP',sans-serif">
    â† ç®¡ç†ãƒãƒ¼ã‚¿ãƒ«
  </button>
</div>
    <div class="header-sub">ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ  ï¼ Honeywell Voyager 1200g å¯¾å¿œ</div>
  </div>
  <div style="font-size:11px;color:var(--muted)">Kintone é€£æº</div>
</div>

<div class="tabs">
  <button class="tab active" onclick="showTab('scan')">ğŸ“¡ ã‚¹ã‚­ãƒ£ãƒ³ãƒ‡ã‚¹ã‚¯</button>
  <button class="tab" onclick="showTab('label')">ğŸ· ãƒ©ãƒ™ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</button>
  <button class="tab" onclick="showTab('tracking')">ğŸ“¦ è¿½è·¡ä¸€è¦§</button>
  <button class="tab" onclick="showTab('setup')">âš™ï¸ å°å…¥æ‰‹é †</button>
</div>

<!-- ================================================================ -->
<!-- TAB: SCAN DESK -->
<!-- ================================================================ -->
<div id="tab-scan" class="page active">

  <div class="grid2">

    <!-- å·¦ï¼šã‚¹ã‚­ãƒ£ãƒ³ãƒ‡ã‚¹ã‚¯ -->
    <div>
      <div class="s-label">ã‚¹ãƒ†ãƒƒãƒ—1 â€• ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é¸æŠ</div>
      <div class="status-selector">
        <button class="status-btn active-shipped" id="btn-shipped" onclick="selectStatus('shipped')">ğŸ“¤ ç™ºé€</button>
        <button class="status-btn" id="btn-received" onclick="selectStatus('received')">ğŸ“¥ å—å–</button>
        <button class="status-btn" id="btn-stored" onclick="selectStatus('stored')">ğŸ“¦ ä¿ç®¡ä¸­</button>
        <button class="status-btn" id="btn-rejected" onclick="selectStatus('rejected')">ğŸš« å—å–æ‹’å¦ãƒ»ä¸åœ¨</button>
      </div>

      <div class="s-label">ã‚¹ãƒ†ãƒƒãƒ—2 â€• ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³</div>
      <div class="scan-desk">
        <div class="scan-input-area" id="scan-area" onclick="document.getElementById('scan-input').focus()">
          <div class="scan-icon">ğŸ“·</div>
          <div class="scan-input-inner">
            <div class="scan-hint" id="scan-hint">ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã‚’ã“ã“ã«å‘ã‘ã¦ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹ã‹ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ‰‹å…¥åŠ›</div>
            <input
              type="text"
              id="scan-input"
              class="scan-input"
              placeholder="ã‚¹ã‚­ãƒ£ãƒ³å¾…æ©Ÿä¸­..."
              autocomplete="off"
              onkeydown="handleScanInput(event)"
              onfocus="onScanFocus()"
              onblur="onScanBlur()"
            >
          </div>
          <div id="scan-spinner" style="display:none;color:var(--gold);font-size:20px">âŸ³</div>
        </div>

        <!-- ã‚¹ã‚­ãƒ£ãƒ³çµæœ -->
        <div class="scan-result" id="scan-result">
          <div class="result-header">
            <div>
              <div class="result-case" id="result-case-id">â€”</div>
              <div style="font-size:13px;font-weight:600;margin-top:2px" id="result-case-name">â€”</div>
            </div>
            <div class="result-status-badge" id="result-badge">â€”</div>
          </div>
          <div class="result-grid">
            <div class="result-field">
              <div class="result-key">ãƒ©ãƒ™ãƒ«ç¨®åˆ¥</div>
              <div class="result-val" id="result-label-type">â€”</div>
            </div>
            <div class="result-field">
              <div class="result-key">å®›å…ˆ</div>
              <div class="result-val" id="result-dest">â€”</div>
            </div>
            <div class="result-field">
              <div class="result-key">ã‚¹ã‚­ãƒ£ãƒ³æ™‚åˆ»</div>
              <div class="result-val" style="font-family:'DM Mono',monospace" id="result-time">â€”</div>
            </div>
          </div>
          <button class="confirm-btn" id="confirm-btn" onclick="confirmScan()">âœ… Kintoneã«è¨˜éŒ²ã™ã‚‹</button>
        </div>

        <!-- ã‚¹ã‚­ãƒ£ãƒ³å±¥æ­´ -->
        <div style="margin-top:20px">
          <div style="font-size:11px;color:var(--muted);letter-spacing:1px;margin-bottom:10px">æœ¬æ—¥ã®ã‚¹ã‚­ãƒ£ãƒ³å±¥æ­´</div>
          <div id="history-list">
            <div class="history-row">
              <span class="h-time">09:12</span>
              <span class="h-code">C001-CONTRACT</span>
              <span class="h-case">æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101 / ç”°ä¸­æ§˜</span>
              <span class="h-badge badge-shipped">ğŸ“¤ ç™ºé€</span>
            </div>
            <div class="history-row">
              <span class="h-time">10:34</span>
              <span class="h-code">C001-KEY</span>
              <span class="h-case">æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101 / ç”°ä¸­æ§˜</span>
              <span class="h-badge badge-shipped">ğŸ“¤ ç™ºé€</span>
            </div>
            <div class="history-row">
              <span class="h-time">11:20</span>
              <span class="h-code">C002-RETURN</span>
              <span class="h-case">æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201 / å±±ç”°æ§˜</span>
              <span class="h-badge badge-received">ğŸ“¥ å—å–</span>
            </div>
            <div class="history-row">
              <span class="h-time">14:05</span>
              <span class="h-code">C002-RETURN</span>
              <span class="h-case">æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201 / å±±ç”°æ§˜</span>
              <span class="h-badge badge-stored">ğŸ“¦ ä¿ç®¡ä¸­</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å³ï¼šæ¡ˆä»¶è¿½è·¡ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -->
    <div>
      <div class="s-label">æ¡ˆä»¶ C-003 â€• è¿½è·¡ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</div>
      <div class="card">
        <div style="margin-bottom:14px">
          <div style="font-family:'DM Mono',monospace;font-size:12px;color:var(--gold)">C-003</div>
          <div style="font-size:14px;font-weight:600;margin-top:2px">æ¸‹è°·åŒºä»£ã€…æœ¨ / éˆ´æœ¨ ä¸€éƒ æ§˜</div>
        </div>

        <!-- å¥‘ç´„æ›¸ -->
        <div style="margin-bottom:16px">
          <div style="font-size:11px;color:var(--muted);margin-bottom:8px;letter-spacing:0.5px">ğŸ“„ å¥‘ç´„æ›¸ â€• C003-CONTRACT</div>
          <div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-done"></div>
              <div><div class="tl-text">ğŸ“¤ ç™ºé€</div><div class="tl-sub">2/19 14:22 â€• å±±ç”°ã‚¹ã‚­ãƒ£ãƒ³</div></div>
            </div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-pending"></div>
              <div><div class="tl-text" style="color:var(--muted)">ğŸ“¥ å—å–ï¼ˆé¡§å®¢ç½²åå¾Œè¿”é€ï¼‰</div><div class="tl-sub">å¾…æ©Ÿä¸­</div></div>
            </div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-pending"></div>
              <div><div class="tl-text" style="color:var(--muted)">ğŸ“¦ ä¿ç®¡ä¸­</div><div class="tl-sub">å¾…æ©Ÿä¸­</div></div>
            </div>
          </div>
        </div>

        <!-- éµ -->
        <div style="margin-bottom:16px">
          <div style="font-size:11px;color:var(--muted);margin-bottom:8px;letter-spacing:0.5px">ğŸ”‘ éµ â€• C003-KEY</div>
          <div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-active"></div>
              <div><div class="tl-text" style="color:var(--gold)">ğŸ“¤ ç™ºé€ï¼ˆæœ¬æ—¥äºˆå®šï¼‰</div><div class="tl-sub">æœªã‚¹ã‚­ãƒ£ãƒ³</div></div>
            </div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-pending"></div>
              <div><div class="tl-text" style="color:var(--muted)">ğŸ“¥ é¡§å®¢å—å–ç¢ºèª</div><div class="tl-sub">å¾…æ©Ÿä¸­</div></div>
            </div>
          </div>
        </div>

        <!-- è¿”ä¿¡ç”¨ -->
        <div>
          <div style="font-size:11px;color:var(--muted);margin-bottom:8px;letter-spacing:0.5px">â†©ï¸ è¿”ä¿¡ç”¨ï¼ˆè¿”é€ç¢ºèªï¼‰ â€• C003-RETURN</div>
          <div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-pending"></div>
              <div><div class="tl-text" style="color:var(--muted)">ğŸ“¥ å—å–ï¼ˆäº‹å‹™æ‰€ã«å±Šã„ãŸï¼‰</div><div class="tl-sub">å¾…æ©Ÿä¸­</div></div>
            </div>
            <div class="tl-item">
              <div class="tl-dot tl-dot-pending"></div>
              <div><div class="tl-text" style="color:var(--muted)">ğŸ“¦ ä¿ç®¡ä¸­ï¼ˆæ£šã«æ ¼ç´ï¼‰</div><div class="tl-sub">å¾…æ©Ÿä¸­</div></div>
            </div>
          </div>
        </div>

        <div style="margin-top:14px;padding:10px;background:rgba(59,130,246,0.08);border-radius:6px;font-size:11px;color:var(--blue);line-height:1.7">
          ğŸ’¡ ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã¨ã“ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãŒKintoneã§è‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™ã€‚<br>
          æ—¥æœ¬éƒµä¾¿APIï¼ˆè‡ªå‹•è¿½è·¡ï¼‰ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ã‚‚åˆç®—ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
        </div>
      </div>

      <div class="card">
        <div class="card-title">ğŸ“Š ä»Šæœˆã®ç™ºé€çŠ¶æ³</div>
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px">
          <div style="text-align:center;background:var(--hover);border-radius:8px;padding:12px">
            <div style="font-family:'DM Mono',monospace;font-size:22px;font-weight:700;color:var(--blue)">23</div>
            <div style="font-size:10px;color:var(--muted);margin-top:3px">ç™ºé€æ¸ˆã¿</div>
          </div>
          <div style="text-align:center;background:var(--hover);border-radius:8px;padding:12px">
            <div style="font-family:'DM Mono',monospace;font-size:22px;font-weight:700;color:var(--green)">18</div>
            <div style="font-size:10px;color:var(--muted);margin-top:3px">å—å–å®Œäº†</div>
          </div>
          <div style="text-align:center;background:var(--hover);border-radius:8px;padding:12px">
            <div style="font-family:'DM Mono',monospace;font-size:22px;font-weight:700;color:var(--purple)">12</div>
            <div style="font-size:10px;color:var(--muted);margin-top:3px">ä¿ç®¡ä¸­</div>
          </div>
          <div style="text-align:center;background:var(--hover);border-radius:8px;padding:12px">
            <div style="font-family:'DM Mono',monospace;font-size:22px;font-weight:700;color:var(--red)">2</div>
            <div style="font-size:10px;color:var(--muted);margin-top:3px">ä¸åœ¨æŒæˆ»ã‚Š</div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- ================================================================ -->
<!-- TAB: LABEL PREVIEW -->
<!-- ================================================================ -->
<div id="tab-label" class="page">

  <div class="s-label" style="margin-top:0">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ãƒ©ãƒ™ãƒ«ã‚’é¸æŠ</div>
  <div class="label-select-row">
    <button class="label-select-btn active" onclick="showLabelPreview('contract',this)">ğŸ“„ å¥‘ç´„æ›¸é€ä»˜</button>
    <button class="label-select-btn" onclick="showLabelPreview('key',this)">ğŸ”‘ éµé€ä»˜</button>
    <button class="label-select-btn" onclick="showLabelPreview('return',this)">â†©ï¸ è¿”ä¿¡ç”¨</button>
    <button class="label-select-btn" onclick="showLabelPreview('mgmt',this)">ğŸ¢ ç®¡ç†ä¼šç¤¾å®›</button>
  </div>

  <div class="grid2">
    <div>
      <div class="card">
        <div class="card-title">æ„Ÿç†±ãƒ©ãƒ™ãƒ«å°åˆ·ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆ102mm Ã— 62mmï¼‰</div>

        <!-- CONTRACT -->
        <div id="lp-contract">
          <div class="thermal-label">
            <span class="tl-type-bar tl-bar-blue">ğŸ“„ å¥‘ç´„æ›¸é€ä»˜</span>
            <div class="tl-to-label">ãŠå±Šã‘å…ˆ</div>
            <div class="tl-postal">ã€’150-0001</div>
            <div class="tl-address">æ±äº¬éƒ½æ¸‹è°·åŒºç¥å®®å‰1-1-1ã€€â—‹â—‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 201å·å®¤</div>
            <div class="tl-name">éˆ´æœ¨ ä¸€éƒ <span class="tl-honorific">æ§˜</span></div>
            <hr class="tl-divider">
            <div class="tl-from-label">å·®å‡ºäºº</div>
            <div class="tl-from-name">CORETO ï¼ æ‹…å½“ï¼šå±±ç”° èª </div>
            <div class="tl-from-addr">ã€’171-0021 æ±äº¬éƒ½è±Šå³¶åŒºè¥¿æ± è¢‹1-1-1</div>
            <div class="tl-from-tel">TEL: 090-1234-5678</div>
            <div class="tl-barcode-area">
              <svg id="bc-contract" class="tl-barcode-svg"></svg>
              <div class="tl-barcode-meta">
                <div class="tl-barcode-id">C003-CONTRACT</div>
                <div class="tl-barcode-type">è¿½è·¡ãƒãƒ¼ã‚³ãƒ¼ãƒ‰</div>
              </div>
            </div>
          </div>
        </div>

        <!-- KEY -->
        <div id="lp-key" style="display:none">
          <div class="thermal-label">
            <span class="tl-type-bar tl-bar-blue">ğŸ”‘ éµé€ä»˜</span>
            <div class="tl-to-label">ãŠå±Šã‘å…ˆ</div>
            <div class="tl-postal">ã€’150-0001</div>
            <div class="tl-address">æ±äº¬éƒ½æ¸‹è°·åŒºç¥å®®å‰1-1-1ã€€â—‹â—‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 201å·å®¤</div>
            <div class="tl-name">éˆ´æœ¨ ä¸€éƒ <span class="tl-honorific">æ§˜</span></div>
            <hr class="tl-divider">
            <div class="tl-from-label">å·®å‡ºäºº</div>
            <div class="tl-from-name">CORETO ï¼ æ‹…å½“ï¼šå±±ç”° èª </div>
            <div class="tl-from-addr">ã€’171-0021 æ±äº¬éƒ½è±Šå³¶åŒºè¥¿æ± è¢‹1-1-1</div>
            <div class="tl-from-tel">TEL: 090-1234-5678</div>
            <div class="tl-barcode-area">
              <svg id="bc-key" class="tl-barcode-svg"></svg>
              <div class="tl-barcode-meta">
                <div class="tl-barcode-id">C003-KEY</div>
                <div class="tl-barcode-type">è¿½è·¡ãƒãƒ¼ã‚³ãƒ¼ãƒ‰</div>
              </div>
            </div>
          </div>
        </div>

        <!-- RETURN -->
        <div id="lp-return" style="display:none">
          <div class="thermal-label">
            <span class="tl-type-bar tl-bar-purple">â†©ï¸ è¿”ä¿¡ç”¨ï¼ˆå¥‘ç´„æ›¸è¿”é€ï¼‰</span>
            <div class="tl-to-label">ãŠå±Šã‘å…ˆ</div>
            <div class="tl-postal">ã€’171-0021</div>
            <div class="tl-address">æ±äº¬éƒ½è±Šå³¶åŒºè¥¿æ± è¢‹1-1-1</div>
            <div class="tl-name" style="font-size:11px;line-height:1.4">åˆåŒä¼šç¤¾å¸å›½é–‹ç™º<br><span style="font-size:9px;font-weight:600">CORETO å¥‘ç´„æ›¸å—ä»˜ ä¿‚</span></div>
            <hr class="tl-divider">
            <div class="tl-from-label">å·®å‡ºäººï¼ˆãŠå®¢æ§˜ã®ãŠåå‰ã‚’ã”è¨˜å…¥ãã ã•ã„ï¼‰</div>
            <div class="tl-from-name">éˆ´æœ¨ ä¸€éƒ æ§˜</div>
            <div class="tl-from-addr">ã€’150-0001 æ±äº¬éƒ½æ¸‹è°·åŒºç¥å®®å‰1-1-1</div>
            <div class="tl-barcode-area">
              <svg id="bc-return" class="tl-barcode-svg"></svg>
              <div class="tl-barcode-meta">
                <div class="tl-barcode-id">C003-RETURN</div>
                <div class="tl-barcode-type">è¿½è·¡ãƒãƒ¼ã‚³ãƒ¼ãƒ‰</div>
              </div>
            </div>
          </div>
        </div>

        <!-- MGMT -->
        <div id="lp-mgmt" style="display:none">
          <div class="thermal-label">
            <span class="tl-type-bar tl-bar-amber">ğŸ¢ ç®¡ç†ä¼šç¤¾é€ä»˜</span>
            <div class="tl-to-label">ãŠå±Šã‘å…ˆ</div>
            <div class="tl-postal">ã€’160-0022</div>
            <div class="tl-address">æ±äº¬éƒ½æ–°å®¿åŒºæ–°å®¿2-3-4ã€€â—‹â—‹ãƒ“ãƒ« 5éš</div>
            <div class="tl-name" style="font-size:12px">æ ªå¼ä¼šç¤¾æ¸‹è°·ç®¡ç† <span class="tl-honorific">å¾¡ä¸­</span></div>
            <div style="font-size:7px;color:#374151;margin-top:1px">ç®¡ç†éƒ¨ ã”æ‹…å½“è€…æ§˜</div>
            <hr class="tl-divider">
            <div class="tl-from-label">å·®å‡ºäºº</div>
            <div class="tl-from-name">CORETO ï¼ æ‹…å½“ï¼šå±±ç”° èª </div>
            <div class="tl-from-addr">ã€’171-0021 æ±äº¬éƒ½è±Šå³¶åŒºè¥¿æ± è¢‹1-1-1</div>
            <div class="tl-from-tel">TEL: 090-1234-5678</div>
            <div class="tl-barcode-area">
              <svg id="bc-mgmt" class="tl-barcode-svg"></svg>
              <div class="tl-barcode-meta">
                <div class="tl-barcode-id">C003-MGMT</div>
                <div class="tl-barcode-type">è¿½è·¡ãƒãƒ¼ã‚³ãƒ¼ãƒ‰</div>
              </div>
            </div>
          </div>
        </div>

        <div style="text-align:center;margin-top:12px;font-size:11px;color:var(--muted)">
          â†‘ ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã¯ãƒ©ãƒ™ãƒ«ä¸‹éƒ¨ã«è‡ªå‹•ç”Ÿæˆãƒ»å°åˆ·ã•ã‚Œã¾ã™
        </div>
      </div>
    </div>

    <div>
      <div class="card">
        <div class="card-title">ãƒãƒ¼ã‚³ãƒ¼ãƒ‰è¨­è¨ˆ</div>
        <div style="font-size:12px;color:var(--sub);line-height:1.9">
          <strong style="color:#e8eaf0">ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼š</strong> <code>{æ¡ˆä»¶ID}-{ç¨®åˆ¥}</code><br>
          <strong style="color:#e8eaf0">ç¨®åˆ¥ã‚³ãƒ¼ãƒ‰ï¼š</strong><br>
          &emsp;<code>CONTRACT</code> â€• å¥‘ç´„æ›¸é€ä»˜<br>
          &emsp;<code>KEY</code> â€• éµé€ä»˜<br>
          &emsp;<code>RETURN</code> â€• è¿”ä¿¡ç”¨ï¼ˆå¥‘ç´„æ›¸è¿”é€ï¼‰<br>
          &emsp;<code>MGMT</code> â€• ç®¡ç†ä¼šç¤¾å®›<br><br>
          <strong style="color:#e8eaf0">ãƒãƒ¼ã‚³ãƒ¼ãƒ‰å½¢å¼ï¼š</strong> Code 128<br>
          &emsp;è‹±æ•°å­—ãƒ»è¨˜å·ã™ã¹ã¦å¯¾å¿œã€‚Honeywell 1200g ã§ç¢ºå®Ÿã«èª­å–å¯èƒ½ã€‚<br><br>
          <strong style="color:#e8eaf0">ä¾‹ï¼š</strong> æ¡ˆä»¶C-003ã®å¥‘ç´„æ›¸ãƒ©ãƒ™ãƒ«<br>
          &emsp;â†’ <code>C003-CONTRACT</code>
        </div>
        <div class="hint" style="margin-top:16px">
          ğŸ’¡ <strong style="color:#e8eaf0">åŒä¸€æ¡ˆä»¶ã®ãƒ©ãƒ™ãƒ«ã‚’è¤‡æ•°æšç™ºè¡Œã—ãŸå ´åˆ</strong>ã€ãƒãƒ¼ã‚³ãƒ¼ãƒ‰æœ«å°¾ã«é€£ç•ªã‚’ä»˜ã‘ã¾ã™ï¼š<code>C003-CONTRACT-2</code>ã€‚å†ç™ºè¡Œãƒ»å·®ã—æ›¿ãˆã‚‚è¿½è·¡ã§ãã¾ã™ã€‚
        </div>
      </div>

      <div class="card">
        <div class="card-title">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»ãƒ«ãƒ¼ãƒ«</div>
        <div style="display:flex;flex-direction:column;gap:10px;font-size:12px">
          <div style="background:var(--hover);border-radius:6px;padding:10px">
            <div style="color:var(--blue);font-weight:600;margin-bottom:4px">ğŸ“„ å¥‘ç´„æ›¸ / ğŸ”‘ éµ / ğŸ¢ ç®¡ç†ä¼šç¤¾å®›</div>
            <div style="color:var(--sub)">ç™ºé€ â†’ å—å–æ‹’å¦ãƒ»ä¸åœ¨ï¼ˆä»»æ„ï¼‰ â†’ â€•</div>
          </div>
          <div style="background:var(--hover);border-radius:6px;padding:10px">
            <div style="color:var(--purple);font-weight:600;margin-bottom:4px">â†©ï¸ è¿”ä¿¡ç”¨ï¼ˆé¡§å®¢â†’äº‹å‹™æ‰€ï¼‰</div>
            <div style="color:var(--sub)">å—å–ï¼ˆäº‹å‹™æ‰€ã«å±Šã„ãŸï¼‰â†’ ä¿ç®¡ä¸­ï¼ˆæ£šã«æ ¼ç´ï¼‰</div>
          </div>
          <div style="background:rgba(239,68,68,0.06);border:1px solid rgba(239,68,68,0.2);border-radius:6px;padding:10px">
            <div style="color:var(--red);font-weight:600;margin-bottom:4px">ğŸš« å—å–æ‹’å¦ãƒ»ä¸åœ¨æŒã¡æˆ»ã‚Š</div>
            <div style="color:var(--sub)">ã„ãšã‚Œã®ãƒ©ãƒ™ãƒ«ç¨®åˆ¥ã«ã‚‚è¨˜éŒ²å¯èƒ½ã€‚<br>ã‚¹ã‚­ãƒ£ãƒ³å¾Œã«Kintoneã§æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«è‡ªå‹•é€šçŸ¥ã€‚</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ================================================================ -->
<!-- TAB: TRACKING -->
<!-- ================================================================ -->
<div id="tab-tracking" class="page">
  <div class="card">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
      <div class="card-title" style="margin:0">ğŸ“¦ å…¨ãƒ¬ã‚¿ãƒ¼ãƒ‘ãƒƒã‚¯è¿½è·¡ä¸€è¦§</div>
      <div style="display:flex;gap:8px">
        <select style="background:var(--hover);border:1px solid var(--border);color:#e8eaf0;padding:6px 10px;border-radius:5px;font-size:12px;font-family:'Noto Sans JP',sans-serif">
          <option>å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</option>
          <option>ğŸ“¤ ç™ºé€æ¸ˆã¿</option>
          <option>ğŸ“¥ å—å–å¾…ã¡</option>
          <option>ğŸ“¦ ä¿ç®¡ä¸­</option>
          <option>ğŸš« ä¸åœ¨ãƒ»æ‹’å¦</option>
        </select>
        <select style="background:var(--hover);border:1px solid var(--border);color:#e8eaf0;padding:6px 10px;border-radius:5px;font-size:12px;font-family:'Noto Sans JP',sans-serif">
          <option>å…¨ç¨®åˆ¥</option>
          <option>å¥‘ç´„æ›¸</option>
          <option>éµ</option>
          <option>è¿”ä¿¡ç”¨</option>
          <option>ç®¡ç†ä¼šç¤¾</option>
        </select>
      </div>
    </div>
    <table style="width:100%;border-collapse:collapse">
      <thead>
        <tr>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">ãƒãƒ¼ã‚³ãƒ¼ãƒ‰</th>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">æ¡ˆä»¶ / é¡§å®¢</th>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">ç¨®åˆ¥</th>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">æœ€çµ‚ã‚¹ã‚­ãƒ£ãƒ³</th>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">æ‹…å½“AG</th>
          <th style="text-align:left;font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border)">æ—¥æœ¬éƒµä¾¿</th>
        </tr>
      </thead>
      <tbody id="tracking-table-body">
      </tbody>
    </table>
  </div>
</div>

<!-- ================================================================ -->
<!-- TAB: SETUP -->
<!-- ================================================================ -->
<div id="tab-setup" class="page">

  <div class="card">
    <div class="card-title">âš¡ ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãƒ•ãƒ­ãƒ¼</div>
    <div class="flow-row">
      <div class="flow-box hl">ãƒ©ãƒ™ãƒ«å°åˆ·æ™‚<br>ãƒãƒ¼ã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆ</div>
      <div class="flow-arr">â†’</div>
      <div class="flow-box">ç™ºé€å‰ã«<br>ã‚¹ã‚­ãƒ£ãƒ³</div>
      <div class="flow-arr">â†’</div>
      <div class="flow-box hl-blue">Kintone ã«<br>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨˜éŒ²</div>
      <div class="flow-arr">â†’</div>
      <div class="flow-box">ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«<br>Slacké€šçŸ¥</div>
      <div class="flow-arr">â†’</div>
      <div class="flow-box">è¿”é€å—å–æ™‚<br>å†ã‚¹ã‚­ãƒ£ãƒ³</div>
      <div class="flow-arr">â†’</div>
      <div class="flow-box hl-blue">Kintone è‡ªå‹•æ›´æ–°<br>ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å®Œæˆ</div>
    </div>
    <div style="font-size:12px;color:var(--sub)">Honeywell 1200g ã¯USBã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ã—ã¦èªè­˜ã•ã‚Œã‚‹ãŸã‚ã€ã‚¹ã‚­ãƒ£ãƒ³ç”»é¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹ã ã‘ã§è‡ªå‹•å…¥åŠ›ã•ã‚Œã¾ã™ã€‚ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼æŠ¼ä¸‹ã‚‚ä¸è¦ã§ã™ï¼ˆè‡ªå‹•é€ä¿¡ï¼‰ã€‚</div>
  </div>

  <div class="card">
    <div class="card-title">ğŸ”§ å°å…¥æ‰‹é †</div>

    <div class="step">
      <div class="step-num">1</div>
      <div>
        <div class="step-title">Kintoneã€Œãƒ¬ã‚¿ãƒ¼ãƒ‘ãƒƒã‚¯è¿½è·¡ã€ã‚¢ãƒ—ãƒªã«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ </div>
        <div class="step-desc">
          æ—¢å­˜ã®è¿½è·¡ç•ªå·ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åŠ ãˆã¦ä»¥ä¸‹ã‚’è¿½åŠ ï¼š<br>
          <code>ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ID</code>ï¼ˆãƒ†ã‚­ã‚¹ãƒˆï¼‰ã€€<code>ãƒ©ãƒ™ãƒ«ç¨®åˆ¥</code>ï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼‰<br>
          <code>ã‚¹ã‚­ãƒ£ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</code>ï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼‰ã€€<code>ã‚¹ã‚­ãƒ£ãƒ³æ—¥æ™‚</code>ï¼ˆæ—¥æ™‚ï¼‰<br>
          <code>ã‚¹ã‚­ãƒ£ãƒ³æ‹…å½“è€…</code>ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠï¼‰
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-num">2</div>
      <div>
        <div class="step-title">ãƒãƒ¼ã‚³ãƒ¼ãƒ‰IDã®è‡ªå‹•æ¡ç•ªã‚’Kintoneã«è¨­å®š</div>
        <div class="step-desc">
          å¥‘ç´„ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆæ™‚ã«Zapierã§è‡ªå‹•ç”Ÿæˆï¼š<br>
          <code>{{æ¡ˆä»¶ID}}-CONTRACT</code>ã€€<code>{{æ¡ˆä»¶ID}}-KEY</code>ã€€<code>{{æ¡ˆä»¶ID}}-RETURN</code>ã€€<code>{{æ¡ˆä»¶ID}}-MGMT</code><br>
          ã“ã‚Œã‚’ãƒ©ãƒ™ãƒ«å°åˆ·ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆP-touch Editorï¼‰ã«å·®ã—è¾¼ã‚€ã“ã¨ã§ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-num">3</div>
      <div>
        <div class="step-title">P-touch Editor ã§ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ </div>
        <div class="step-desc">
          æ—¢å­˜ãƒ©ãƒ™ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ.lbxï¼‰ã‚’é–‹ãã€ä¸‹éƒ¨ã«ã€Œãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã‚’è¿½åŠ ã€‚<br>
          ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç¨®åˆ¥ï¼š<code>Code 128</code>ï¼ˆè‹±æ•°å­—ãƒ»è¨˜å·å¯¾å¿œãƒ»Honeywellç¢ºå®Ÿèª­å–ï¼‰<br>
          ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼šKintoneã®<code>ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ID</code>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å·®ã—è¾¼ã¿<br>
          ã‚µã‚¤ã‚ºï¼šé«˜ã• 8mm ç¨‹åº¦ï¼ˆãƒ©ãƒ™ãƒ«ä¸‹éƒ¨ã«åã¾ã‚‹ã‚µã‚¤ã‚ºï¼‰
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-num">4</div>
      <div>
        <div class="step-title">ã‚¹ã‚­ãƒ£ãƒ³å°‚ç”¨ç”»é¢ã‚’Kintoneã«ä½œæˆ</div>
        <div class="step-desc">
          Kintone ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ¥ãƒ¼ã§ã€Œã‚¹ã‚­ãƒ£ãƒ³ãƒ‡ã‚¹ã‚¯ã€ç”»é¢ã‚’ä½œæˆï¼ˆã“ã®ãƒ‡ãƒ¢ã®ã‚ˆã†ãªç”»é¢ï¼‰ã€‚<br>
          ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é¸æŠ â†’ ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã¨ãƒãƒ¼ã‚³ãƒ¼ãƒ‰IDã‚’æ¤œç´¢ â†’ å¯¾å¿œãƒ¬ã‚³ãƒ¼ãƒ‰ã«è‡ªå‹•æ›¸ãè¾¼ã¿ã€‚<br>
          JavaScriptã‚³ãƒ¼ãƒ‰ã¯Claudeã«ä¾é ¼ã™ã‚Œã°ç”Ÿæˆã§ãã¾ã™ã€‚æ‰€è¦æ™‚é–“ 30åˆ†ç¨‹åº¦ã€‚
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-num">5</div>
      <div>
        <div class="step-title">å—å–æ‹’å¦ãƒ»ä¸åœ¨æ™‚ã®Slackè‡ªå‹•é€šçŸ¥ã‚’è¨­å®š</div>
        <div class="step-desc">
          Zapierï¼šKintoneã®<code>ã‚¹ã‚­ãƒ£ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</code>ãŒã€Œå—å–æ‹’å¦ãƒ»ä¸åœ¨ã€ã«ãªã£ãŸã‚‰ â†’ Slackã§æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«é€šçŸ¥ã€‚<br>
          é€šçŸ¥å†…å®¹ï¼šæ¡ˆä»¶IDãƒ»é¡§å®¢åãƒ»ãƒ¬ã‚¿ãƒ¼ãƒ‘ãƒƒã‚¯ç¨®åˆ¥ãƒ»æ—¥æ™‚ã‚’è‡ªå‹•å«ã‚ã‚‹ã€‚<br>
          ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå³åº§ã«é¡§å®¢ã«é€£çµ¡ã§ãã‚‹ä½“åˆ¶ã«ãªã‚Šã¾ã™ã€‚
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-num">6</div>
      <div>
        <div class="step-title">æ—¥æœ¬éƒµä¾¿APIã®è‡ªå‹•è¿½è·¡ã¨çµ±åˆï¼ˆæ—¢å­˜æ©Ÿèƒ½ï¼‰</div>
        <div class="step-desc">
          ãƒã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒ³ã«ã‚ã‚‹æ—¥æœ¬éƒµä¾¿APIè¿½è·¡ã¨ã€ä»Šå›ã®ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ã‚’åŒä¸€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«è¡¨ç¤ºã€‚<br>
          â†’ ã€Œäº‹å‹™æ‰€ã‹ã‚‰ç™ºé€ï¼ˆã‚¹ã‚­ãƒ£ãƒ³è¨˜éŒ²ï¼‰ã€ï¼‹ã€Œéƒµä¾¿å±€ã®é…é”çŠ¶æ³ï¼ˆAPIå–å¾—ï¼‰ã€ï¼‹ã€Œäº‹å‹™æ‰€ã§å—å–ï¼ˆã‚¹ã‚­ãƒ£ãƒ³è¨˜éŒ²ï¼‰ã€ãŒ1ç”»é¢ã§ç¢ºèªã§ãã¾ã™ã€‚
        </div>
      </div>
    </div>

    <div class="hint">
      ğŸ’¡ <strong style="color:#e8eaf0">è¿½åŠ è²»ç”¨ï¼šã‚¼ãƒ­</strong>ã€‚Honeywell 1200gã¯ã™ã§ã«ãƒã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒ³ã«å«ã¾ã‚Œã¦ãŠã‚Šã€P-touch Editorã®Code 128ç”Ÿæˆã‚‚ç„¡æ–™ã§ã™ã€‚Kintoneã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã¨ã—ã¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ãƒ»JavaScriptå®Ÿè£…ã®ã¿å¿…è¦ã§ã™ã€‚<br><br>
      ğŸ’¡ <strong style="color:#e8eaf0">Kintoneé€£æºã‚³ãƒ¼ãƒ‰</strong>ã¯ã€Œã‚¹ã‚­ãƒ£ãƒ³ç”»é¢ã®JavaScriptã‚’Kintoneå‘ã‘ã«æ›¸ã„ã¦ã€ã¨ä¾é ¼ã™ã‚Œã°ã™ãç”Ÿæˆã§ãã¾ã™ã€‚
    </div>
  </div>
</div>

<!-- ãƒˆãƒ¼ã‚¹ãƒˆ -->
<div class="toast" id="toast"></div>

<script>
// ===== ãƒ‡ãƒ¼ã‚¿ =====
const caseDB = {
  'C001-CONTRACT': { caseId:'C-001', caseName:'æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101å·å®¤', dest:'ç”°ä¸­ èŠ±å­ æ§˜', type:'ğŸ“„ å¥‘ç´„æ›¸é€ä»˜' },
  'C001-KEY':      { caseId:'C-001', caseName:'æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101å·å®¤', dest:'ç”°ä¸­ èŠ±å­ æ§˜', type:'ğŸ”‘ éµé€ä»˜' },
  'C001-RETURN':   { caseId:'C-001', caseName:'æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101å·å®¤', dest:'CORETOäº‹å‹™æ‰€', type:'â†©ï¸ è¿”ä¿¡ç”¨' },
  'C001-MGMT':     { caseId:'C-001', caseName:'æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101å·å®¤', dest:'æ ªå¼ä¼šç¤¾æ± è¢‹ç®¡ç†', type:'ğŸ¢ ç®¡ç†ä¼šç¤¾å®›' },
  'C002-CONTRACT': { caseId:'C-002', caseName:'æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201å·å®¤', dest:'å±±ç”° å¤ªéƒ æ§˜', type:'ğŸ“„ å¥‘ç´„æ›¸é€ä»˜' },
  'C002-KEY':      { caseId:'C-002', caseName:'æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201å·å®¤', dest:'å±±ç”° å¤ªéƒ æ§˜', type:'ğŸ”‘ éµé€ä»˜' },
  'C002-RETURN':   { caseId:'C-002', caseName:'æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201å·å®¤', dest:'CORETOäº‹å‹™æ‰€', type:'â†©ï¸ è¿”ä¿¡ç”¨' },
  'C002-MGMT':     { caseId:'C-002', caseName:'æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201å·å®¤', dest:'æ ªå¼ä¼šç¤¾æ–°å®¿ç®¡ç†', type:'ğŸ¢ ç®¡ç†ä¼šç¤¾å®›' },
  'C003-CONTRACT': { caseId:'C-003', caseName:'æ¸‹è°·åŒºä»£ã€…æœ¨ 2LDK', dest:'éˆ´æœ¨ ä¸€éƒ æ§˜', type:'ğŸ“„ å¥‘ç´„æ›¸é€ä»˜' },
  'C003-KEY':      { caseId:'C-003', caseName:'æ¸‹è°·åŒºä»£ã€…æœ¨ 2LDK', dest:'éˆ´æœ¨ ä¸€éƒ æ§˜', type:'ğŸ”‘ éµé€ä»˜' },
  'C003-RETURN':   { caseId:'C-003', caseName:'æ¸‹è°·åŒºä»£ã€…æœ¨ 2LDK', dest:'CORETOäº‹å‹™æ‰€', type:'â†©ï¸ è¿”ä¿¡ç”¨' },
  'C003-MGMT':     { caseId:'C-003', caseName:'æ¸‹è°·åŒºä»£ã€…æœ¨ 2LDK', dest:'æ ªå¼ä¼šç¤¾æ¸‹è°·ç®¡ç†', type:'ğŸ¢ ç®¡ç†ä¼šç¤¾å®›' },
};

const statusMap = {
  shipped:  { label:'ğŸ“¤ ç™ºé€', cls:'badge-shipped', btnCls:'active-shipped' },
  received: { label:'ğŸ“¥ å—å–', cls:'badge-received', btnCls:'active-received' },
  stored:   { label:'ğŸ“¦ ä¿ç®¡ä¸­', cls:'badge-stored', btnCls:'active-stored' },
  rejected: { label:'ğŸš« å—å–æ‹’å¦ãƒ»ä¸åœ¨', cls:'badge-rejected', btnCls:'active-rejected' },
};

let currentStatus = 'shipped';
let pendingScan = null;

// ===== ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é¸æŠ =====
function selectStatus(s) {
  currentStatus = s;
  document.querySelectorAll('.status-btn').forEach(b => {
    b.className = 'status-btn';
  });
  const btn = document.getElementById('btn-'+s);
  btn.className = 'status-btn ' + statusMap[s].btnCls;
  document.getElementById('scan-input').focus();
}

// ===== ã‚¹ã‚­ãƒ£ãƒ³å…¥åŠ› =====
function onScanFocus() {
  const area = document.getElementById('scan-area');
  area.classList.add('focused');
  document.getElementById('scan-hint').textContent = 'âœ… ã‚¹ã‚­ãƒ£ãƒ³æº–å‚™å®Œäº† â€• ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã£ã¦ãã ã•ã„';
}
function onScanBlur() {
  const area = document.getElementById('scan-area');
  if (!area.classList.contains('success')) {
    area.classList.remove('focused');
    document.getElementById('scan-hint').textContent = 'ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã‚’ã“ã“ã«å‘ã‘ã¦ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹ã‹ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ‰‹å…¥åŠ›';
  }
}

function handleScanInput(e) {
  // Honeywell ã¯ Enter ã‚’è‡ªå‹•é€ä¿¡ã™ã‚‹ã®ã§Enterã§ç¢ºå®š
  if (e.key === 'Enter') {
    const val = e.target.value.trim().toUpperCase();
    if (val) processScan(val);
    e.preventDefault();
  }
}

function processScan(code) {
  const area = document.getElementById('scan-area');
  const result = document.getElementById('scan-result');
  const input = document.getElementById('scan-input');

  const found = caseDB[code];
  if (!found) {
    area.classList.add('error');
    area.classList.remove('focused');
    showToast('âŒ ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ' + code, true);
    input.value = '';
    setTimeout(() => { area.classList.remove('error'); area.classList.add('focused'); input.focus(); }, 1500);
    return;
  }

  pendingScan = { code, data: found, status: currentStatus };

  const st = statusMap[currentStatus];
  const now = new Date();
  const timeStr = now.getHours().toString().padStart(2,'0') + ':' + now.getMinutes().toString().padStart(2,'0');

  document.getElementById('result-case-id').textContent = found.caseId + ' â€• ' + code;
  document.getElementById('result-case-name').textContent = found.caseName;
  document.getElementById('result-label-type').textContent = found.type;
  document.getElementById('result-dest').textContent = found.dest;
  document.getElementById('result-time').textContent = timeStr;

  const badge = document.getElementById('result-badge');
  badge.textContent = st.label;
  badge.className = 'result-status-badge ' + st.cls;

  area.classList.remove('focused','error');
  area.classList.add('success');
  result.classList.add('visible');
  input.value = '';
}

function confirmScan() {
  if (!pendingScan) return;
  const { code, data, status } = pendingScan;
  const st = statusMap[status];
  const now = new Date();
  const timeStr = now.getHours().toString().padStart(2,'0') + ':' + now.getMinutes().toString().padStart(2,'0');

  // å±¥æ­´ã«è¿½åŠ 
  const list = document.getElementById('history-list');
  const row = document.createElement('div');
  row.className = 'history-row';
  row.innerHTML = `
    <span class="h-time">${timeStr}</span>
    <span class="h-code">${code}</span>
    <span class="h-case">${data.caseName} / ${data.dest}</span>
    <span class="h-badge ${st.cls}">${st.label}</span>
  `;
  list.insertBefore(row, list.firstChild);

  showToast('âœ… Kintoneã«è¨˜éŒ²ã—ã¾ã—ãŸ: ' + code + ' â†’ ' + st.label);

  // ãƒªã‚»ãƒƒãƒˆ
  document.getElementById('scan-result').classList.remove('visible');
  const area = document.getElementById('scan-area');
  area.classList.remove('success');
  area.classList.add('focused');
  document.getElementById('scan-hint').textContent = 'âœ… ã‚¹ã‚­ãƒ£ãƒ³æº–å‚™å®Œäº† â€• ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã£ã¦ãã ã•ã„';
  pendingScan = null;
  document.getElementById('scan-input').focus();
}

// ===== ãƒ©ãƒ™ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ =====
function showLabelPreview(type, btn) {
  ['contract','key','return','mgmt'].forEach(t => {
    document.getElementById('lp-'+t).style.display = t===type ? 'block' : 'none';
  });
  document.querySelectorAll('.label-select-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

// ===== ã‚¿ãƒ– =====
function showTab(t) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(b => b.classList.remove('active'));
  document.getElementById('tab-'+t).classList.add('active');
  event.target.classList.add('active');
}

// ===== ãƒˆãƒ¼ã‚¹ãƒˆ =====
function showToast(msg, isError=false) {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.className = 'toast' + (isError ? ' error-toast' : '');
  setTimeout(() => toast.classList.add('show'), 10);
  setTimeout(() => toast.classList.remove('show'), 3000);
}

// ===== ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ =====
function generateBarcodes() {
  const barcodes = {
    'bc-contract': 'C003-CONTRACT',
    'bc-key':      'C003-KEY',
    'bc-return':   'C003-RETURN',
    'bc-mgmt':     'C003-MGMT',
  };
  Object.entries(barcodes).forEach(([id, val]) => {
    const el = document.getElementById(id);
    if (el) {
      JsBarcode(el, val, {
        format: 'CODE128',
        width: 1.2,
        height: 22,
        displayValue: false,
        margin: 0,
        background: 'transparent',
        lineColor: '#111',
      });
    }
  });
}

// ===== è¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ =====
function buildTrackingTable() {
  const rows = [
    { code:'C003-CONTRACT', caseName:'æ¸‹è°·ä»£ã€…æœ¨ 2LDK', dest:'éˆ´æœ¨ ä¸€éƒ æ§˜', type:'ğŸ“„ å¥‘ç´„æ›¸', status:'shipped', time:'2/19 14:22', agent:'å±±ç”° èª ', postal:'é…é€ä¸­' },
    { code:'C003-KEY',      caseName:'æ¸‹è°·ä»£ã€…æœ¨ 2LDK', dest:'éˆ´æœ¨ ä¸€éƒ æ§˜', type:'ğŸ”‘ éµ',    status:'',        time:'æœªç™ºé€',       agent:'å±±ç”° èª ', postal:'â€•' },
    { code:'C003-RETURN',   caseName:'æ¸‹è°·ä»£ã€…æœ¨ 2LDK', dest:'CORETOäº‹å‹™æ‰€', type:'â†©ï¸ è¿”ä¿¡ç”¨', status:'',        time:'æœªå—å–',       agent:'å±±ç”° èª ', postal:'â€•' },
    { code:'C001-CONTRACT', caseName:'æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101', dest:'ç”°ä¸­ èŠ±å­ æ§˜', type:'ğŸ“„ å¥‘ç´„æ›¸', status:'received', time:'2/19 09:12', agent:'é«˜æ©‹ æ˜', postal:'é…é”å®Œäº†' },
    { code:'C001-RETURN',   caseName:'æ± è¢‹ãƒãƒ³ã‚·ãƒ§ãƒ³ 101', dest:'CORETOäº‹å‹™æ‰€', type:'â†©ï¸ è¿”ä¿¡ç”¨', status:'stored', time:'2/18 16:30', agent:'é«˜æ©‹ æ˜', postal:'é…é”å®Œäº†' },
    { code:'C002-KEY',      caseName:'æ–°å®¿ã‚¢ãƒ‘ãƒ¼ãƒˆ 201', dest:'å±±ç”° å¤ªéƒ æ§˜', type:'ğŸ”‘ éµ',    status:'rejected', time:'2/18 11:05', agent:'ä¸­æ‘ ãƒªã‚«', postal:'ä¸åœ¨æŒæˆ»ã‚Š' },
  ];

  const tbody = document.getElementById('tracking-table-body');
  rows.forEach(r => {
    const st = r.status ? statusMap[r.status] : null;
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td style="font-family:'DM Mono',monospace;font-size:12px;color:var(--gold);padding:10px">${r.code}</td>
      <td style="font-size:12px;padding:10px">${r.caseName}<br><span style="font-size:11px;color:var(--muted)">${r.dest}</span></td>
      <td style="font-size:12px;padding:10px">${r.type}</td>
      <td style="padding:10px">${st ? `<span class="h-badge ${st.cls}" style="padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600">${st.label}</span>` : '<span style="font-size:12px;color:var(--muted)">â€•</span>'}</td>
      <td style="font-family:'DM Mono',monospace;font-size:11px;color:var(--muted);padding:10px">${r.time}</td>
      <td style="font-size:12px;padding:10px">${r.agent}</td>
      <td style="font-size:11px;padding:10px;color:var(--sub)">${r.postal}</td>
    `;
    tbody.appendChild(tr);
  });
}

// åˆæœŸåŒ–
window.addEventListener('load', () => {
  generateBarcodes();
  buildTrackingTable();
  // ã‚¹ã‚­ãƒ£ãƒ³å…¥åŠ›ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
  document.getElementById('scan-input').focus();
});
</script>
</body>
</html>
